(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const Al=!1,Il=(e,t)=>e===t,Ne=Symbol("solid-proxy"),mi=typeof Proxy=="function",Ln=Symbol("solid-track"),Jt={equals:Il};let yi=Ci;const it=1,en=2,xi={owned:null,cleanups:null,context:null,owner:null};var le=null;let hn=null,Pl=null,se=null,ve=null,Ye=null,sn=0;function $t(e,t){const n=se,r=le,i=e.length===0,l=t===void 0?r:t,o=i?xi:{owned:null,cleanups:null,context:l?l.context:null,owner:l},a=i?e:()=>e(()=>Se(()=>Bt(o)));le=o,se=null;try{return lt(a,!0)}finally{se=n,le=r}}function H(e,t){t=t?Object.assign({},Jt,t):Jt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Si(n,i));return[vi.bind(n),r]}function ne(e,t,n){const r=er(e,t,!1,it);Ht(r)}function Ct(e,t,n){yi=Ll;const r=er(e,t,!1,it);(!n||!n.render)&&(r.user=!0),Ye?Ye.push(r):Ht(r)}function ae(e,t,n){n=n?Object.assign({},Jt,n):Jt;const r=er(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ht(r),vi.bind(r)}function bi(e){return lt(e,!1)}function Se(e){if(se===null)return e();const t=se;se=null;try{return e()}finally{se=t}}function Zn(e,t,n){const r=Array.isArray(e);let i,l=n&&n.defer;return o=>{let a;if(r){a=Array(e.length);for(let u=0;u<e.length;u++)a[u]=e[u]()}else a=e();if(l)return l=!1,o;const s=Se(()=>t(a,i,o));return i=a,s}}function tn(e){Ct(()=>Se(e))}function tt(e){return le===null||(le.cleanups===null?le.cleanups=[e]:le.cleanups.push(e)),e}function On(){return se}function Xn(){return le}function Jn(e,t){const n=le,r=se;le=e,se=null;try{return lt(t,!0)}catch(i){tr(i)}finally{le=n,se=r}}function _l(e){const t=se,n=le;return Promise.resolve().then(()=>{se=t,le=n;let r;return lt(e,!1),se=le=null,r?r.done:void 0})}const[$f,Ef]=H(!1);function wi(e,t){const n=Symbol("context");return{id:n,Provider:Dl(n),defaultValue:e}}function ki(e){let t;return le&&le.context&&(t=le.context[e.id])!==void 0?t:e.defaultValue}function un(e){const t=ae(e),n=ae(()=>Dn(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function vi(){if(this.sources&&this.state)if(this.state===it)Ht(this);else{const e=ve;ve=null,lt(()=>rn(this),!1),ve=e}if(se){const e=this.observers?this.observers.length:0;se.sources?(se.sources.push(this),se.sourceSlots.push(e)):(se.sources=[this],se.sourceSlots=[e]),this.observers?(this.observers.push(se),this.observerSlots.push(se.sources.length-1)):(this.observers=[se],this.observerSlots=[se.sources.length-1])}return this.value}function Si(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&lt(()=>{for(let i=0;i<e.observers.length;i+=1){const l=e.observers[i],o=hn&&hn.running;o&&hn.disposed.has(l),(o?!l.tState:!l.state)&&(l.pure?ve.push(l):Ye.push(l),l.observers&&$i(l)),o||(l.state=it)}if(ve.length>1e6)throw ve=[],new Error},!1)),t}function Ht(e){if(!e.fn)return;Bt(e);const t=sn;Tl(e,e.value,t)}function Tl(e,t,n){let r;const i=le,l=se;se=le=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=it,e.owned&&e.owned.forEach(Bt),e.owned=null),e.updatedAt=n+1,tr(o)}finally{se=l,le=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Si(e,r):e.value=r,e.updatedAt=n)}function er(e,t,n,r=it,i){const l={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:le,context:le?le.context:null,pure:n};return le===null||le!==xi&&(le.owned?le.owned.push(l):le.owned=[l]),l}function nn(e){if(e.state===0)return;if(e.state===en)return rn(e);if(e.suspense&&Se(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<sn);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===it)Ht(e);else if(e.state===en){const r=ve;ve=null,lt(()=>rn(e,t[0]),!1),ve=r}}function lt(e,t){if(ve)return e();let n=!1;t||(ve=[]),Ye?n=!0:Ye=[],sn++;try{const r=e();return Ml(n),r}catch(r){n||(Ye=null),ve=null,tr(r)}}function Ml(e){if(ve&&(Ci(ve),ve=null),e)return;const t=Ye;Ye=null,t.length&&lt(()=>yi(t),!1)}function Ci(e){for(let t=0;t<e.length;t++)nn(e[t])}function Ll(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:nn(r)}for(t=0;t<n;t++)nn(e[t])}function rn(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===it?r!==t&&(!r.updatedAt||r.updatedAt<sn)&&nn(r):i===en&&rn(r,t)}}}function $i(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=en,n.pure?ve.push(n):Ye.push(n),n.observers&&$i(n))}}function Bt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const l=i.pop(),o=n.observerSlots.pop();r<i.length&&(l.sourceSlots[o]=r,i[r]=l,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Bt(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Bt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ol(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function tr(e,t=le){throw Ol(e)}function Dn(e){if(typeof e=="function"&&!e.length)return Dn(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Dn(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Dl(e,t){return function(r){let i;return ne(()=>i=Se(()=>(le.context={...le.context,[e]:r.value},un(()=>r.children))),void 0),i}}const Rl=Symbol("fallback");function gr(e){for(let t=0;t<e.length;t++)e[t]()}function zl(e,t,n={}){let r=[],i=[],l=[],o=0,a=t.length>1?[]:null;return tt(()=>gr(l)),()=>{let s=e()||[],u=s.length,c,d;return s[Ln],Se(()=>{let f,x,m,w,y,v,b,I,D;if(u===0)o!==0&&(gr(l),l=[],r=[],i=[],o=0,a&&(a=[])),n.fallback&&(r=[Rl],i[0]=$t(k=>(l[0]=k,n.fallback())),o=1);else if(o===0){for(i=new Array(u),d=0;d<u;d++)r[d]=s[d],i[d]=$t(h);o=u}else{for(m=new Array(u),w=new Array(u),a&&(y=new Array(u)),v=0,b=Math.min(o,u);v<b&&r[v]===s[v];v++);for(b=o-1,I=u-1;b>=v&&I>=v&&r[b]===s[I];b--,I--)m[I]=i[b],w[I]=l[b],a&&(y[I]=a[b]);for(f=new Map,x=new Array(I+1),d=I;d>=v;d--)D=s[d],c=f.get(D),x[d]=c===void 0?-1:c,f.set(D,d);for(c=v;c<=b;c++)D=r[c],d=f.get(D),d!==void 0&&d!==-1?(m[d]=i[c],w[d]=l[c],a&&(y[d]=a[c]),d=x[d],f.set(D,d)):l[c]();for(d=v;d<u;d++)d in m?(i[d]=m[d],l[d]=w[d],a&&(a[d]=y[d],a[d](d))):i[d]=$t(h);i=i.slice(0,o=u),r=s.slice(0)}return i});function h(f){if(l[d]=f,a){const[x,m]=H(d);return a[d]=m,t(s[d],x)}return t(s[d])}}}function C(e,t){return Se(()=>e(t||{}))}function Wt(){return!0}const Rn={get(e,t,n){return t===Ne?n:e.get(t)},has(e,t){return t===Ne?!0:e.has(t)},set:Wt,deleteProperty:Wt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Wt,deleteProperty:Wt}},ownKeys(e){return e.keys()}};function pn(e){return(e=typeof e=="function"?e():e)?e:{}}function Fl(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function mt(...e){let t=!1;for(let o=0;o<e.length;o++){const a=e[o];t=t||!!a&&Ne in a,e[o]=typeof a=="function"?(t=!0,ae(a)):a}if(mi&&t)return new Proxy({get(o){for(let a=e.length-1;a>=0;a--){const s=pn(e[a])[o];if(s!==void 0)return s}},has(o){for(let a=e.length-1;a>=0;a--)if(o in pn(e[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<e.length;a++)o.push(...Object.keys(pn(e[a])));return[...new Set(o)]}},Rn);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const a=e[o];if(!a)continue;const s=Object.getOwnPropertyNames(a);for(let u=s.length-1;u>=0;u--){const c=s[u];if(c==="__proto__"||c==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,c);if(!r[c])r[c]=d.get?{enumerable:!0,configurable:!0,get:Fl.bind(n[c]=[d.get.bind(a)])}:d.value!==void 0?d:void 0;else{const h=n[c];h&&(d.get?h.push(d.get.bind(a)):d.value!==void 0&&h.push(()=>d.value))}}}const i={},l=Object.keys(r);for(let o=l.length-1;o>=0;o--){const a=l[o],s=r[a];s&&s.get?Object.defineProperty(i,a,s):i[a]=s?s.value:void 0}return i}function Nl(e,...t){const n=t.length;if(mi&&Ne in e){const i=n>1?t.flat():t[0],l=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},Rn));return l.push(new Proxy({get(o){return i.includes(o)?void 0:e[o]},has(o){return i.includes(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!i.includes(o))}},Rn)),l}const r=[];for(let i=0;i<=n;i++)r[i]={};for(const i of Object.getOwnPropertyNames(e)){let l=n;for(let s=0;s<t.length;s++)if(t[s].includes(i)){l=s;break}const o=Object.getOwnPropertyDescriptor(e,i);!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable?r[l][i]=o.value:Object.defineProperty(r[l],i,o)}return r}const Ei=e=>`Stale read from <${e}>.`;function et(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ae(zl(()=>e.each,e.children,t||void 0))}function U(e){const t=e.keyed,n=ae(()=>e.when,void 0,void 0),r=t?n:ae(n,void 0,{equals:(i,l)=>!i==!l});return ae(()=>{const i=r();if(i){const l=e.children;return typeof l=="function"&&l.length>0?Se(()=>l(t?i:()=>{if(!Se(r))throw Ei("Show");return n()})):l}return e.fallback},void 0,void 0)}function Bl(e){const t=un(()=>e.children),n=ae(()=>{const r=t(),i=Array.isArray(r)?r:[r];let l=()=>{};for(let o=0;o<i.length;o++){const a=o,s=i[o],u=l,c=ae(()=>u()?void 0:s.when,void 0,void 0),d=s.keyed?c:ae(c,void 0,{equals:(h,f)=>!h==!f});l=()=>u()||(d()?[a,c,s]:void 0)}return l});return ae(()=>{const r=n()();if(!r)return e.fallback;const[i,l,o]=r,a=o.children;return typeof a=="function"&&a.length>0?Se(()=>a(o.keyed?l():()=>{if(Se(n)()?.[0]!==i)throw Ei("Match");return l()})):a},void 0,void 0)}function mr(e){return e}const jl=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],Ul=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...jl]),Vl=new Set(["innerHTML","textContent","innerText","children"]),Hl=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ql=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Kl(e,t){const n=ql[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Wl=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Gl=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Yl={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Le=e=>ae(()=>e());function Ql(e,t,n){let r=n.length,i=t.length,l=r,o=0,a=0,s=t[i-1].nextSibling,u=null;for(;o<i||a<l;){if(t[o]===n[a]){o++,a++;continue}for(;t[i-1]===n[l-1];)i--,l--;if(i===o){const c=l<r?a?n[a-1].nextSibling:n[l-a]:s;for(;a<l;)e.insertBefore(n[a++],c)}else if(l===a)for(;o<i;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[l-1]&&n[a]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--l],c),t[i]=n[l]}else{if(!u){u=new Map;let d=a;for(;d<l;)u.set(n[d],d++)}const c=u.get(t[o]);if(c!=null)if(a<c&&c<l){let d=o,h=1,f;for(;++d<i&&d<l&&!((f=u.get(t[d]))==null||f!==c+h);)h++;if(h>c-a){const x=t[o];for(;a<c;)e.insertBefore(n[a++],x)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const yr="_$DX_DELEGATE";function Zl(e,t,n,r={}){let i;return $t(l=>{i=l,t===document?e():T(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function F(e,t,n,r){let i;const l=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},o=()=>(i||(i=l())).cloneNode(!0);return o.cloneNode=o,o}function He(e,t=window.document){const n=t[yr]||(t[yr]=new Set);for(let r=0,i=e.length;r<i;r++){const l=e[r];n.has(l)||(n.add(l),t.addEventListener(l,io))}}function Ue(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Xl(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function Jl(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function pe(e,t){t==null?e.removeAttribute("class"):e.className=t}function nt(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=l=>i.call(e,n[1],l))}else e.addEventListener(t,n,typeof n!="function"&&n)}function eo(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let l,o;for(l=0,o=i.length;l<o;l++){const a=i[l];!a||a==="undefined"||t[a]||(xr(e,a,!1),delete n[a])}for(l=0,o=r.length;l<o;l++){const a=r[l],s=!!t[a];!a||a==="undefined"||n[a]===s||!s||(xr(e,a,!0),n[a]=s)}return n}function Ai(e,t,n){if(!t)return n?Ue(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,l;for(l in n)t[l]==null&&r.removeProperty(l),delete n[l];for(l in t)i=t[l],i!==n[l]&&(r.setProperty(l,i),n[l]=i);return n}function jt(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function to(e,t={},n,r){const i={};return ne(()=>i.children=Ut(e,t.children,i.children)),ne(()=>typeof t.ref=="function"&&gt(t.ref,e)),ne(()=>no(e,t,n,!0,i,!0)),i}function gt(e,t,n){return Se(()=>e(t,n))}function T(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Ut(e,t,r,n);ne(i=>Ut(e,t(),i,n),r)}function no(e,t,n,r,i={},l=!1){t||(t={});for(const o in i)if(!(o in t)){if(o==="children")continue;i[o]=br(e,o,null,i[o],n,l,t)}for(const o in t){if(o==="children")continue;const a=t[o];i[o]=br(e,o,a,i[o],n,l,t)}}function ro(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function xr(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,l=r.length;i<l;i++)e.classList.toggle(r[i],n)}function br(e,t,n,r,i,l,o){let a,s,u,c,d;if(t==="style")return Ai(e,n,r);if(t==="classList")return eo(e,n,r);if(n===r)return r;if(t==="ref")l||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);r&&e.removeEventListener(h,r,typeof r!="function"&&r),n&&e.addEventListener(h,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);r&&e.removeEventListener(h,r,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),f=Wl.has(h);if(!f&&r){const x=Array.isArray(r)?r[0]:r;e.removeEventListener(h,x)}(f||n)&&(nt(e,h,n,f),f&&He([h]))}else if(t.slice(0,5)==="attr:")Ue(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")Jl(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(u=Vl.has(t))||!i&&((c=Kl(t,e.tagName))||(s=Ul.has(t)))||(a=e.nodeName.includes("-")||"is"in o))d&&(t=t.slice(5),s=!0),t==="class"||t==="className"?pe(e,n):a&&!s&&!u?e[ro(t)]=n:e[c||t]=n;else{const h=i&&t.indexOf(":")>-1&&Yl[t.split(":")[0]];h?Xl(e,h,t,n):Ue(e,Hl[t]||t,n)}return n}function io(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,l=s=>Object.defineProperty(e,"target",{configurable:!0,value:s}),o=()=>{const s=t[n];if(s&&!t.disabled){const u=t[`${n}Data`];if(u!==void 0?s.call(t,u,e):s.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},a=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const s=e.composedPath();l(s[0]);for(let u=0;u<s.length-2&&(t=s[u],!!o());u++){if(t._$host){t=t._$host,a();break}if(t.parentNode===i)break}}else a();l(r)}function Ut(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===n))return n;if(o){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=wt(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean")n=wt(e,n,r);else{if(l==="function")return ne(()=>{let a=t();for(;typeof a=="function";)a=a();n=Ut(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],s=n&&Array.isArray(n);if(zn(a,t,n,i))return ne(()=>n=Ut(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=wt(e,n,r),o)return n}else s?n.length===0?wr(e,a,r):Ql(e,n,a):(n&&wt(e),wr(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=wt(e,n,r,t);wt(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function zn(e,t,n,r){let i=!1;for(let l=0,o=t.length;l<o;l++){let a=t[l],s=n&&n[e.length],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=zn(e,a,s)||i;else if(u==="function")if(r){for(;typeof a=="function";)a=a();i=zn(e,Array.isArray(a)?a:[a],Array.isArray(s)?s:[s])||i}else e.push(a),i=!0;else{const c=String(a);s&&s.nodeType===3&&s.data===c?e.push(s):e.push(document.createTextNode(c))}}return i}function wr(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function wt(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(i!==a){const s=a.parentNode===e;!l&&!o?s?e.replaceChild(i,a):e.insertBefore(i,n):s&&a.remove()}else l=!0}}else e.insertBefore(i,n);return[i]}const lo=!1,oo="http://www.w3.org/2000/svg";function Ii(e,t=!1,n=void 0){return t?document.createElementNS(oo,e):document.createElement(e,{is:n})}function ao(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,i=Xn();let l;return Ct(()=>{l||(l=Jn(i,()=>ae(()=>e.children)));const o=r();if(o instanceof HTMLHeadElement){const[a,s]=H(!1),u=()=>s(!0);$t(c=>T(o,()=>a()?c():l(),null)),tt(u)}else{const a=Ii(e.isSVG?"g":"div",e.isSVG),s=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return n.parentNode},configurable:!0}),T(s,l),o.appendChild(a),e.ref&&e.ref(a),tt(()=>o.removeChild(a))}},void 0,{render:!0}),n}function so(e,t){const n=ae(e);return ae(()=>{const r=n();switch(typeof r){case"function":return Se(()=>r(t));case"string":const i=Gl.has(r),l=Ii(r,i,Se(()=>t.is));return to(l,t,i),l}})}function Pi(e){const[,t]=Nl(e,["component"]);return so(()=>e.component,t)}function _i(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,l){if(n)return!(n=!1);const o={to:i,options:l,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of e)a.listener({...o,from:a.location,retry:s=>{s&&(n=!0),a.navigate(i,{...l,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}let Fn;function nr(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Fn=window.history.state._depth}nr();function uo(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function co(e,t){let n=!1;return()=>{const r=Fn;nr();const i=r==null?null:Fn-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const fo=/^(?:[a-z0-9]+:)?\/\//i,ho=/^\/+|(\/)\/+$/g,Ti="http://sr";function Rt(e,t=!1){const n=e.replace(ho,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Zt(e,t,n){if(fo.test(t))return;const r=Rt(e),i=n&&Rt(n);let l="";return!i||t.startsWith("/")?l=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?l=r+i:l=i,(l||"/")+Rt(t,!l)}function po(e,t){if(e==null)throw new Error(t);return e}function go(e,t){return Rt(e).replace(/\/*(\*.*)?$/g,"")+Rt(t)}function Mi(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function mo(e,t,n){const[r,i]=e.split("/*",2),l=r.split("/").filter(Boolean),o=l.length;return a=>{const s=a.split("/").filter(Boolean),u=s.length-o;if(u<0||u>0&&i===void 0&&!t)return null;const c={path:o?"":"/",params:{}},d=h=>n===void 0?void 0:n[h];for(let h=0;h<o;h++){const f=l[h],x=f[0]===":",m=x?s[h]:s[h].toLowerCase(),w=x?f.slice(1):f.toLowerCase();if(x&&gn(m,d(w)))c.params[w]=m;else if(x||!gn(m,w))return null;c.path+=`/${m}`}if(i){const h=u?s.slice(-u).join("/"):"";if(gn(h,d(i)))c.params[i]=h;else return null}return c}}function gn(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function yo(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,l)=>i+(l.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Li(e){const t=new Map,n=Xn();return new Proxy({},{get(r,i){return t.has(i)||Jn(n,()=>t.set(i,ae(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())},has(r,i){return i in e()}})}function Oi(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return Oi(r).reduce((l,o)=>[...l,...i.map(a=>a+o)],[])}const xo=100,Di=wi(),Ri=wi(),zi=()=>po(ki(Di),"<A> and 'use' router primitives can be only used inside a Route."),bo=()=>zi().navigatorFactory(),wo=()=>zi().params;function ko(e,t=""){const{component:n,preload:r,load:i,children:l,info:o}=e,a=!l||Array.isArray(l)&&!l.length,s={key:e,component:n,preload:r||i,info:o};return Fi(e.path).reduce((u,c)=>{for(const d of Oi(c)){const h=go(t,d);let f=a?h:h.split("/*",1)[0];f=f.split("/").map(x=>x.startsWith(":")||x.startsWith("*")?x:encodeURIComponent(x)).join("/"),u.push({...s,originalPath:c,pattern:f,matcher:mo(f,!a,e.matchFilters)})}return u},[])}function vo(e,t=0){return{routes:e,score:yo(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const l=e[i],o=l.matcher(n);if(!o)return null;r.unshift({...o,route:l})}return r}}}function Fi(e){return Array.isArray(e)?e:[e]}function Ni(e,t="",n=[],r=[]){const i=Fi(e);for(let l=0,o=i.length;l<o;l++){const a=i[l];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const s=ko(a,t);for(const u of s){n.push(u);const c=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!c)Ni(a.children,u.pattern,n,r);else{const d=vo([...n],r.length);r.push(d)}n.pop()}}}return n.length?r:r.sort((l,o)=>o.score-l.score)}function mn(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function So(e,t,n){const r=new URL(Ti),i=ae(c=>{const d=e();try{return new URL(d,r)}catch{return console.error(`Invalid path ${d}`),c}},r,{equals:(c,d)=>c.href===d.href}),l=ae(()=>i().pathname),o=ae(()=>i().search,!0),a=ae(()=>i().hash),s=()=>"",u=Zn(o,()=>Mi(i()));return{get pathname(){return l()},get search(){return o()},get hash(){return a()},get state(){return t()},get key(){return s()},query:n?n(u):Li(u)}}let pt;function Co(){return pt}function $o(e,t,n,r={}){const{signal:[i,l],utils:o={}}=e,a=o.parsePath||(N=>N),s=o.renderPath||(N=>N),u=o.beforeLeave||_i(),c=Zt("",r.base||"");if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!i().value&&l({value:c,replace:!0,scroll:!1});const[d,h]=H(!1);let f;const x=(N,R)=>{R.value===m()&&R.state===y()||(f===void 0&&h(!0),pt=N,f=R,_l(()=>{f===R&&(w(f.value),v(f.state),D[1](O=>O.filter(B=>B.pending)))}).finally(()=>{f===R&&bi(()=>{pt=void 0,N==="navigate"&&L(f),h(!1),f=void 0})}))},[m,w]=H(i().value),[y,v]=H(i().state),b=So(m,y,o.queryWrapper),I=[],D=H([]),k=ae(()=>typeof r.transformUrl=="function"?mn(t(),r.transformUrl(b.pathname)):mn(t(),b.pathname)),V=()=>{const N=k(),R={};for(let O=0;O<N.length;O++)Object.assign(R,N[O].params);return R},X=o.paramsWrapper?o.paramsWrapper(V,t):Li(V),q={pattern:c,path:()=>c,outlet:()=>null,resolvePath(N){return Zt(c,N)}};return ne(Zn(i,N=>x("native",N),{defer:!0})),{base:q,location:b,params:X,isRouting:d,renderPath:s,parsePath:a,navigatorFactory:_,matches:k,beforeLeave:u,preloadRoute:Q,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:D};function A(N,R,O){Se(()=>{if(typeof R=="number"){R&&(o.go?o.go(R):console.warn("Router integration does not support relative routing"));return}const B=!R||R[0]==="?",{replace:K,resolve:ee,scroll:p,state:de}={replace:!1,resolve:!B,scroll:!0,...O},re=ee?N.resolvePath(R):Zt(B&&b.pathname||"",R);if(re===void 0)throw new Error(`Path '${R}' is not a routable path`);if(I.length>=xo)throw new Error("Too many redirects");const g=m();(re!==g||de!==y())&&(lo||u.confirm(re,O)&&(I.push({value:g,replace:K,scroll:p,state:y()}),x("navigate",{value:re,state:de})))})}function _(N){return N=N||ki(Ri)||q,(R,O)=>A(N,R,O)}function L(N){const R=I[0];R&&(l({...N,replace:R.replace,scroll:R.scroll}),I.length=0)}function Q(N,R){const O=mn(t(),N.pathname),B=pt;pt="preload";for(let K in O){const{route:ee,params:p}=O[K];ee.component&&ee.component.preload&&ee.component.preload();const{preload:de}=ee;R&&de&&Jn(n(),()=>de({params:p,location:{pathname:N.pathname,search:N.search,hash:N.hash,query:Mi(N),state:null,key:""},intent:"preload"}))}pt=B}}function Eo(e,t,n,r){const{base:i,location:l,params:o}=e,{pattern:a,component:s,preload:u}=r().route,c=ae(()=>r().path);s&&s.preload&&s.preload();const d=u?u({params:o,location:l,intent:pt||"initial"}):void 0;return{parent:t,pattern:a,path:c,outlet:()=>s?C(s,{params:o,location:l,data:d,get children(){return n()}}):n(),resolvePath(f){return Zt(i.path(),f,c())}}}const Ao=e=>t=>{const{base:n}=t,r=un(()=>t.children),i=ae(()=>Ni(r(),t.base||""));let l;const o=$o(e,i,()=>l,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(o),C(Di.Provider,{value:o,get children(){return C(Io,{routerState:o,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[Le(()=>(l=Xn())&&null),C(Po,{routerState:o,get branches(){return i()}})]}})}})};function Io(e){const t=e.routerState.location,n=e.routerState.params,r=ae(()=>e.preload&&Se(()=>{e.preload({params:n,location:t,intent:Co()||"initial"})}));return C(U,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>C(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function Po(e){const t=[];let n;const r=ae(Zn(e.routerState.matches,(i,l,o)=>{let a=l&&i.length===l.length;const s=[];for(let u=0,c=i.length;u<c;u++){const d=l&&l[u],h=i[u];o&&d&&h.route.key===d.route.key?s[u]=o[u]:(a=!1,t[u]&&t[u](),$t(f=>{t[u]=f,s[u]=Eo(e.routerState,s[u-1]||e.routerState.base,kr(()=>r()[u+1]),()=>{const x=e.routerState.matches();return x[u]??x[0]})}))}return t.splice(i.length).forEach(u=>u()),o&&a?o:(n=s[0],s)}));return kr(()=>r()&&n)()}const kr=e=>()=>C(U,{get when(){return e()},keyed:!0,children:t=>C(Ri.Provider,{value:t,get children(){return t.outlet()}})}),vr=e=>{const t=un(()=>e.children);return mt(e,{get children(){return t()}})};function _o([e,t],n,r){return[e,r?i=>t(r(i)):t]}function To(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=_o(H(n(e.get()),{equals:(i,l)=>i.value===l.value&&i.state===l.state}),void 0,i=>(!t&&e.set(i),i));return e.init&&tt(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),Ao({signal:r,create:e.create,utils:e.utils})}function Mo(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Lo(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Oo=new Map;function Do(e=!0,t=!1,n="/_server",r){return i=>{const l=i.base.path(),o=i.navigatorFactory(i.base);let a,s;function u(m){return m.namespaceURI==="http://www.w3.org/2000/svg"}function c(m){if(m.defaultPrevented||m.button!==0||m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)return;const w=m.composedPath().find(k=>k instanceof Node&&k.nodeName.toUpperCase()==="A");if(!w||t&&!w.hasAttribute("link"))return;const y=u(w),v=y?w.href.baseVal:w.href;if((y?w.target.baseVal:w.target)||!v&&!w.hasAttribute("state"))return;const I=(w.getAttribute("rel")||"").split(/\s+/);if(w.hasAttribute("download")||I&&I.includes("external"))return;const D=y?new URL(v,document.baseURI):new URL(v);if(!(D.origin!==window.location.origin||l&&D.pathname&&!D.pathname.toLowerCase().startsWith(l.toLowerCase())))return[w,D]}function d(m){const w=c(m);if(!w)return;const[y,v]=w,b=i.parsePath(v.pathname+v.search+v.hash),I=y.getAttribute("state");m.preventDefault(),o(b,{resolve:!1,replace:y.hasAttribute("replace"),scroll:!y.hasAttribute("noscroll"),state:I?JSON.parse(I):void 0})}function h(m){const w=c(m);if(!w)return;const[y,v]=w;r&&(v.pathname=r(v.pathname)),i.preloadRoute(v,y.getAttribute("preload")!=="false")}function f(m){clearTimeout(a);const w=c(m);if(!w)return s=null;const[y,v]=w;s!==y&&(r&&(v.pathname=r(v.pathname)),a=setTimeout(()=>{i.preloadRoute(v,y.getAttribute("preload")!=="false"),s=y},20))}function x(m){if(m.defaultPrevented)return;let w=m.submitter&&m.submitter.hasAttribute("formaction")?m.submitter.getAttribute("formaction"):m.target.getAttribute("action");if(!w)return;if(!w.startsWith("https://action/")){const v=new URL(w,Ti);if(w=i.parsePath(v.pathname+v.search),!w.startsWith(n))return}if(m.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const y=Oo.get(w);if(y){m.preventDefault();const v=new FormData(m.target,m.submitter);y.call({r:i,f:m.target},m.target.enctype==="multipart/form-data"?v:new URLSearchParams(v))}}He(["click","submit"]),document.addEventListener("click",d),e&&(document.addEventListener("mousemove",f,{passive:!0}),document.addEventListener("focusin",h,{passive:!0}),document.addEventListener("touchstart",h,{passive:!0})),document.addEventListener("submit",x),tt(()=>{document.removeEventListener("click",d),e&&(document.removeEventListener("mousemove",f),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",x)})}}function Ro(e){const t=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,i=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:i}},n=_i();return To({get:t,set({value:r,replace:i,scroll:l,state:o}){i?window.history.replaceState(uo(o),"",r):window.history.pushState(o,"",r),Lo(decodeURIComponent(window.location.hash.slice(1)),l),nr()},init:r=>Mo(window,"popstate",co(r,i=>{if(i)return!n.confirm(i);{const l=t();return!n.confirm(l.value,{state:l.state})}})),create:Do(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}const Nn=Symbol("store-raw"),Et=Symbol("store-node"),Ge=Symbol("store-has"),Bi=Symbol("store-self");function ji(e){let t=e[Ne];if(!t&&(Object.defineProperty(e,Ne,{value:t=new Proxy(e,No)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,l=n.length;i<l;i++){const o=n[i];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function rt(e){let t;return e!=null&&typeof e=="object"&&(e[Ne]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Pt(e,t=new Set){let n,r,i,l;if(n=e!=null&&e[Nn])return n;if(!rt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,a=e.length;o<a;o++)i=e[o],(r=Pt(i,t))!==i&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let s=0,u=o.length;s<u;s++)l=o[s],!a[l].get&&(i=e[l],(r=Pt(i,t))!==i&&(e[l]=r))}return e}function ln(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Vt(e,t,n){if(e[t])return e[t];const[r,i]=H(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function zo(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Ne||t===Et||(delete n.value,delete n.writable,n.get=()=>e[Ne][t]),n}function Ui(e){On()&&Vt(ln(e,Et),Bi)()}function Fo(e){return Ui(e),Reflect.ownKeys(e)}const No={get(e,t,n){if(t===Nn)return e;if(t===Ne)return n;if(t===Ln)return Ui(e),n;const r=ln(e,Et),i=r[t];let l=i?i():e[t];if(t===Et||t===Ge||t==="__proto__")return l;if(!i){const o=Object.getOwnPropertyDescriptor(e,t);On()&&(typeof l!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(l=Vt(r,t,l)())}return rt(l)?ji(l):l},has(e,t){return t===Nn||t===Ne||t===Ln||t===Et||t===Ge||t==="__proto__"?!0:(On()&&Vt(ln(e,Ge),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Fo,getOwnPropertyDescriptor:zo};function Me(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],l=e.length;n===void 0?(delete e[t],e[Ge]&&e[Ge][t]&&i!==void 0&&e[Ge][t].$()):(e[t]=n,e[Ge]&&e[Ge][t]&&i===void 0&&e[Ge][t].$());let o=ln(e,Et),a;if((a=Vt(o,t,i))&&a.$(()=>n),Array.isArray(e)&&e.length!==l){for(let s=e.length;s<l;s++)(a=o[s])&&a.$();(a=Vt(o,"length",l))&&a.$(e.length)}(a=o[Bi])&&a.$()}function Vi(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Me(e,i,t[i])}}function Bo(e,t){if(typeof t=="function"&&(t=t(e)),t=Pt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Me(e,n,i)}Me(e,"length",r)}else Vi(e,t)}function Dt(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const o=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let s=0;s<r.length;s++)Dt(e,[r[s]].concat(t),n);return}else if(a&&o==="function"){for(let s=0;s<e.length;s++)r(e[s],s)&&Dt(e,[s].concat(t),n);return}else if(a&&o==="object"){const{from:s=0,to:u=e.length-1,by:c=1}=r;for(let d=s;d<=u;d+=c)Dt(e,[d].concat(t),n);return}else if(t.length>1){Dt(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let l=t[0];typeof l=="function"&&(l=l(i,n),l===i)||r===void 0&&l==null||(l=Pt(l),r===void 0||rt(i)&&rt(l)&&!Array.isArray(l)?Vi(i,l):Me(e,r,l))}function jo(...[e,t]){const n=Pt(e||{}),r=Array.isArray(n),i=ji(n);function l(...o){bi(()=>{r&&o.length===1?Bo(n,o[0]):Dt(n,o)})}return[i,l]}const Bn=Symbol("store-root");function St(e,t,n,r,i){const l=t[n];if(e===l)return;const o=Array.isArray(e);if(n!==Bn&&(!rt(e)||!rt(l)||o!==Array.isArray(l)||i&&e[i]!==l[i])){Me(t,n,e);return}if(o){if(e.length&&l.length&&(!r||i&&e[0]&&e[0][i]!=null)){let u,c,d,h,f,x,m,w;for(d=0,h=Math.min(l.length,e.length);d<h&&(l[d]===e[d]||i&&l[d]&&e[d]&&l[d][i]&&l[d][i]===e[d][i]);d++)St(e[d],l,d,r,i);const y=new Array(e.length),v=new Map;for(h=l.length-1,f=e.length-1;h>=d&&f>=d&&(l[h]===e[f]||i&&l[h]&&e[f]&&l[h][i]&&l[h][i]===e[f][i]);h--,f--)y[f]=l[h];if(d>f||d>h){for(c=d;c<=f;c++)Me(l,c,e[c]);for(;c<e.length;c++)Me(l,c,y[c]),St(e[c],l,c,r,i);l.length>e.length&&Me(l,"length",e.length);return}for(m=new Array(f+1),c=f;c>=d;c--)x=e[c],w=i&&x?x[i]:x,u=v.get(w),m[c]=u===void 0?-1:u,v.set(w,c);for(u=d;u<=h;u++)x=l[u],w=i&&x?x[i]:x,c=v.get(w),c!==void 0&&c!==-1&&(y[c]=l[u],c=m[c],v.set(w,c));for(c=d;c<e.length;c++)c in y?(Me(l,c,y[c]),St(e[c],l,c,r,i)):Me(l,c,e[c])}else for(let u=0,c=e.length;u<c;u++)St(e[u],l,u,r,i);l.length>e.length&&Me(l,"length",e.length);return}const a=Object.keys(e);for(let u=0,c=a.length;u<c;u++)St(e[a[u]],l,a[u],r,i);const s=Object.keys(l);for(let u=0,c=s.length;u<c;u++)e[s[u]]===void 0&&Me(l,s[u],void 0)}function Uo(e,t={}){const{merge:n,key:r="id"}=t,i=Pt(e);return l=>{if(!rt(l)||!rt(i))return i;const o=St(i,{[Bn]:l},Bn,n,r);return o===void 0?l:o}}var Vo=F('<div class="h-[28px] flex items-center"data-tauri-drag-region><div class="w-[68px] flex-shrink-0"data-tauri-drag-region></div><button class="p-1.5 rounded text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"stroke-width=1.5><rect x=3 y=4 width=18 height=16 rx=2></rect><line x1=9 y1=4 x2=9 y2=20></line></svg></button><div class="flex-1 h-full"data-tauri-drag-region>');function Ho(e){return(()=>{var t=Vo(),n=t.firstChild,r=n.nextSibling;return nt(r,"click",e.onToggleSidebar,!0),ne(()=>Ue(r,"title",e.sidebarCollapsed?"Show sidebar":"Hide sidebar")),t})()}He(["click"]);var qo=F('<div class=mb-2><h3 class="px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400">Today'),Ko=F('<div class=mb-2><h3 class="px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400">Yesterday'),Wo=F('<div class=mb-2><h3 class="px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400">Older'),Go=F('<p class="px-3 py-8 text-center text-sm text-gray-500 dark:text-gray-400">No chats yet.<br>Start a new conversation!'),Yo=F('<div class="flex-1 overflow-y-auto px-2">'),Qo=F("<div class=flex-1>"),Zo=F('<div class="fixed bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 z-50 min-w-[140px]"><button class="w-full px-3 py-1.5 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Delete</button><div class="border-t border-gray-200 dark:border-gray-700 my-1"></div><button class="w-full px-3 py-1.5 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Delete All'),Xo=F('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 mx-4 max-w-sm"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2">Delete All Chats</h3><p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Are you sure? This cannot be undone.</p><div class="flex justify-end gap-2"><button class="px-3 py-1.5 text-sm rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700">Cancel</button><button class="px-3 py-1.5 text-sm rounded-lg bg-red-600 text-white hover:bg-red-700">Delete All'),Jo=F('<aside><div><button title="New Chat"><svg class="w-4 h-4 flex-shrink-0"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v16m8-8H4"></path></svg></button></div><div><button title=Settings><svg class="w-4 h-4 flex-shrink-0"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z">'),ea=F('<button class="absolute right-2 p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-500"title="Delete chat"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),ta=F('<div><button class="flex-1 text-left px-3 py-2 text-sm truncate">');function na(e){const[t,n]=H(null),[r,i]=H(null),[l,o]=H(!1),a=()=>i(null),s=f=>{f.key==="Escape"&&i(null)};typeof window<"u"&&(window.addEventListener("click",a),window.addEventListener("keydown",s),tt(()=>{window.removeEventListener("click",a),window.removeEventListener("keydown",s)}));const u=()=>e.collapsed;function c(f){const x=new Date,m=new Date(x);m.setDate(m.getDate()-1);const w={today:[],yesterday:[],older:[]};return f.forEach(y=>{const b=new Date(y.updated_at).toDateString();b===x.toDateString()?w.today.push(y):b===m.toDateString()?w.yesterday.push(y):w.older.push(y)}),w}const d=()=>c(e.chats),h=()=>u()?{}:{width:`${e.width||240}px`};return(()=>{var f=Jo(),x=f.firstChild,m=x.firstChild;m.firstChild;var w=x.nextSibling,y=w.firstChild;return y.firstChild,nt(m,"click",e.onNewChat,!0),T(m,C(U,{get when(){return!u()},children:"New Chat"}),null),T(f,C(U,{get when(){return!u()},get children(){var v=Yo();return T(v,C(U,{get when(){return d().today.length>0},get children(){var b=qo();return b.firstChild,T(b,C(et,{get each(){return d().today},children:I=>C(yn,mt({chat:I},e,{hoveredId:t,setHoveredId:n,setContextMenu:i}))}),null),b}}),null),T(v,C(U,{get when(){return d().yesterday.length>0},get children(){var b=Ko();return b.firstChild,T(b,C(et,{get each(){return d().yesterday},children:I=>C(yn,mt({chat:I},e,{hoveredId:t,setHoveredId:n,setContextMenu:i}))}),null),b}}),null),T(v,C(U,{get when(){return d().older.length>0},get children(){var b=Wo();return b.firstChild,T(b,C(et,{get each(){return d().older},children:I=>C(yn,mt({chat:I},e,{hoveredId:t,setHoveredId:n,setContextMenu:i}))}),null),b}}),null),T(v,C(U,{get when(){return e.chats.length===0},get children(){return Go()}}),null),v}}),w),T(f,C(U,{get when(){return u()},get children(){return Qo()}}),w),nt(y,"click",e.onOpenSettings,!0),T(y,C(U,{get when(){return!u()},children:"Settings"}),null),T(f,C(U,{get when(){return r()},get children(){var v=Zo(),b=v.firstChild,I=b.nextSibling,D=I.nextSibling;return v.$$click=k=>k.stopPropagation(),b.$$click=()=>{e.onDeleteChat(r().chatId),i(null)},D.$$click=k=>{k.stopPropagation(),i(null),o(!0)},ne(k=>{var V=`${r().x}px`,X=`${r().y}px`;return V!==k.e&&jt(v,"left",k.e=V),X!==k.t&&jt(v,"top",k.t=X),k},{e:void 0,t:void 0}),v}}),null),T(f,C(U,{get when(){return l()},get children(){var v=Xo(),b=v.firstChild,I=b.firstChild,D=I.nextSibling,k=D.nextSibling,V=k.firstChild,X=V.nextSibling;return v.$$click=()=>o(!1),b.$$click=q=>q.stopPropagation(),V.$$click=()=>o(!1),X.$$click=()=>{o(!1),e.onDeleteAllChats?.()},v}}),null),ne(v=>{var b=`${u()?"w-12 border-r border-gray-200 dark:border-gray-700":""} bg-gray-100/50 dark:bg-gray-800/50 flex flex-col transition-all duration-200 flex-shrink-0`,I=h(),D=`${u()?"p-2":"p-3"}`,k=`flex items-center justify-center gap-2 rounded-lg bg-accent hover:bg-accent-hover text-white text-sm font-medium transition-colors ${u()?"w-8 h-8 p-0 mx-auto":"w-full px-3 py-2"}`,V=`border-t border-gray-200 dark:border-gray-700 ${u()?"p-2":"p-3"}`,X=`flex items-center justify-center gap-2 rounded-lg text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors ${u()?"w-8 h-8 p-0":"w-full px-3 py-2"}`;return b!==v.e&&pe(f,v.e=b),v.t=Ai(f,I,v.t),D!==v.a&&pe(x,v.a=D),k!==v.o&&pe(m,v.o=k),V!==v.i&&pe(w,v.i=V),X!==v.n&&pe(y,v.n=X),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),f})()}function yn(e){const t=()=>e.currentChatId===e.chat.id,n=()=>e.hoveredId()===e.chat.id,r=i=>{i.preventDefault(),i.stopPropagation(),e.setContextMenu({x:i.clientX,y:i.clientY,chatId:e.chat.id})};return(()=>{var i=ta(),l=i.firstChild;return i.$$contextmenu=r,i.addEventListener("mouseleave",()=>e.setHoveredId(null)),i.addEventListener("mouseenter",()=>e.setHoveredId(e.chat.id)),l.$$click=()=>e.onSelectChat(e.chat.id),T(l,()=>e.chat.title||"New Chat"),T(i,C(U,{get when(){return n()},get children(){var o=ea();return o.$$click=a=>{a.stopPropagation(),e.onDeleteChat(e.chat.id)},o}}),null),ne(()=>pe(i,`group relative flex items-center rounded-lg cursor-pointer transition-colors ${t()?"bg-gray-200 dark:bg-gray-700":"hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`)),i})()}He(["click","contextmenu"]);const ra="modulepreload",ia=function(e){return"/"+e},Sr={},rr=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};var o=u;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");i=u(n.map(c=>{if(c=ia(c),c in Sr)return;Sr[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":ra,d||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),d)return new Promise((x,m)=>{f.addEventListener("load",x),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&l(s.reason);return t().catch(l)})},la={};function oa(e,t){const n=la,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Hi(e,r,i)}function Hi(e,t,n){if(aa(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Cr(e.children,t,n)}return Array.isArray(e)?Cr(e,t,n):""}function Cr(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Hi(e[i],t,n);return r.join("")}function aa(e){return!!(e&&typeof e=="object")}const $r=document.createElement("i");function ir(e){const t="&"+e+";";$r.innerHTML=t;const n=$r.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ve(e,t,n,r){const i=e.length;let l=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);l<r.length;)o=r.slice(l,l+1e4),o.unshift(t,0),e.splice(...o),l+=1e4,t+=1e4}function Oe(e,t){return e.length>0?(Ve(e,e.length,0,t),e):t}const Er={}.hasOwnProperty;function sa(e){const t={};let n=-1;for(;++n<e.length;)ua(t,e[n]);return t}function ua(e,t){let n;for(n in t){const i=(Er.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;if(l)for(o in l){Er.call(i,o)||(i[o]=[]);const a=l[o];ca(i[o],Array.isArray(a)?a:a?[a]:[])}}}function ca(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ve(e,0,0,r)}function qi(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function At(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const je=ot(/[A-Za-z]/),Pe=ot(/[\dA-Za-z]/),da=ot(/[#-'*+\--9=?A-Z^-~]/);function jn(e){return e!==null&&(e<32||e===127)}const Un=ot(/\d/),fa=ot(/[\dA-Fa-f]/),ha=ot(/[!-/:-@[-`{-~]/);function Y(e){return e!==null&&e<-2}function $e(e){return e!==null&&(e<0||e===32)}function oe(e){return e===-2||e===-1||e===32}const pa=ot(new RegExp("\\p{P}|\\p{S}","u")),ga=ot(/\s/);function ot(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function _t(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&Pe(e.charCodeAt(n+1))&&Pe(e.charCodeAt(n+2)))i=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const a=e.charCodeAt(n+1);l<56320&&a>56319&&a<57344?(o=String.fromCharCode(l,a),i=1):o="ï¿½"}else o=String.fromCharCode(l);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ce(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(s){return oe(s)?(e.enter(n),a(s)):t(s)}function a(s){return oe(s)&&l++<i?(e.consume(s),a):(e.exit(n),t(s))}}const ma={tokenize:ya};function ya(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ce(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),l(a)}function l(a){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Y(a)?(e.consume(a),e.exit("chunkText"),l):(e.consume(a),o)}}const xa={tokenize:ba},Ar={tokenize:wa};function ba(e){const t=this,n=[];let r=0,i,l,o;return a;function a(b){if(r<n.length){const I=n[r];return t.containerState=I[1],e.attempt(I[0].continuation,s,u)(b)}return u(b)}function s(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const I=t.events.length;let D=I,k;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){k=t.events[D][1].end;break}y(r);let V=I;for(;V<t.events.length;)t.events[V][1].end={...k},V++;return Ve(t.events,D+1,0,t.events.slice(I)),t.events.length=V,u(b)}return a(b)}function u(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return x(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ar,c,d)(b)}function c(b){return i&&v(),y(r),h(b)}function d(b){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,x(b)}function h(b){return t.containerState={},e.attempt(Ar,f,x)(b)}function f(b){return r++,n.push([t.currentConstruct,t.containerState]),h(b)}function x(b){if(b===null){i&&v(),y(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:l}),m(b)}function m(b){if(b===null){w(e.exit("chunkFlow"),!0),y(0),e.consume(b);return}return Y(b)?(e.consume(b),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(b),m)}function w(b,I){const D=t.sliceStream(b);if(I&&D.push(null),b.previous=l,l&&(l.next=b),l=b,i.defineSkip(b.start),i.write(D),t.parser.lazy[b.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<o&&(!i.events[k][1].end||i.events[k][1].end.offset>o))return;const V=t.events.length;let X=V,q,A;for(;X--;)if(t.events[X][0]==="exit"&&t.events[X][1].type==="chunkFlow"){if(q){A=t.events[X][1].end;break}q=!0}for(y(r),k=V;k<t.events.length;)t.events[k][1].end={...A},k++;Ve(t.events,X+1,0,t.events.slice(V)),t.events.length=k}}function y(b){let I=n.length;for(;I-- >b;){const D=n[I];t.containerState=D[1],D[0].exit.call(t,e)}n.length=b}function v(){i.write([null]),l=void 0,i=void 0,t.containerState._closeFlow=void 0}}function wa(e,t,n){return ce(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ir(e){if(e===null||$e(e)||ga(e))return 1;if(pa(e))return 2}function lr(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const l=e[i].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const Vn={name:"attention",resolveAll:ka,tokenize:va};function ka(e,t){let n=-1,r,i,l,o,a,s,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},h={...e[n][1].start};Pr(d,-s),Pr(h,s),o={type:s>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:s>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},l={type:s>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:s>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Oe(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Oe(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",l,t]]),u=Oe(u,lr(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Oe(u,[["exit",l,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Oe(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Ve(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function va(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ir(r);let l;return o;function o(s){return l=s,e.enter("attentionSequence"),a(s)}function a(s){if(s===l)return e.consume(s),a;const u=e.exit("attentionSequence"),c=Ir(s),d=!c||c===2&&i||n.includes(s),h=!i||i===2&&c||n.includes(r);return u._open=!!(l===42?d:d&&(i||!h)),u._close=!!(l===42?h:h&&(c||!d)),t(s)}}function Pr(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Sa={name:"autolink",tokenize:Ca};function Ca(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(f){return je(f)?(e.consume(f),o):f===64?n(f):u(f)}function o(f){return f===43||f===45||f===46||Pe(f)?(r=1,a(f)):u(f)}function a(f){return f===58?(e.consume(f),r=0,s):(f===43||f===45||f===46||Pe(f))&&r++<32?(e.consume(f),a):(r=0,u(f))}function s(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||jn(f)?n(f):(e.consume(f),s)}function u(f){return f===64?(e.consume(f),c):da(f)?(e.consume(f),u):n(f)}function c(f){return Pe(f)?d(f):n(f)}function d(f){return f===46?(e.consume(f),r=0,c):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):h(f)}function h(f){if((f===45||Pe(f))&&r++<63){const x=f===45?h:d;return e.consume(f),x}return n(f)}}const cn={partial:!0,tokenize:$a};function $a(e,t,n){return r;function r(l){return oe(l)?ce(e,i,"linePrefix")(l):i(l)}function i(l){return l===null||Y(l)?t(l):n(l)}}const Ki={continuation:{tokenize:Aa},exit:Ia,name:"blockQuote",tokenize:Ea};function Ea(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return oe(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Aa(e,t,n){const r=this;return i;function i(o){return oe(o)?ce(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):l(o)}function l(o){return e.attempt(Ki,t,n)(o)}}function Ia(e){e.exit("blockQuote")}const Wi={name:"characterEscape",tokenize:Pa};function Pa(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),i}function i(l){return ha(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Gi={name:"characterReference",tokenize:_a};function _a(e,t,n){const r=this;let i=0,l,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),s}function s(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),l=31,o=Pe,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=fa,c):(e.enter("characterReferenceValue"),l=7,o=Un,c(d))}function c(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return o===Pe&&!ir(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<l?(e.consume(d),c):n(d)}}const _r={partial:!0,tokenize:Ma},Tr={concrete:!0,name:"codeFenced",tokenize:Ta};function Ta(e,t,n){const r=this,i={partial:!0,tokenize:D};let l=0,o=0,a;return s;function s(k){return u(k)}function u(k){const V=r.events[r.events.length-1];return l=V&&V[1].type==="linePrefix"?V[2].sliceSerialize(V[1],!0).length:0,a=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===a?(o++,e.consume(k),c):o<3?n(k):(e.exit("codeFencedFenceSequence"),oe(k)?ce(e,d,"whitespace")(k):d(k))}function d(k){return k===null||Y(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(_r,m,I)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||Y(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(k)):oe(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ce(e,f,"whitespace")(k)):k===96&&k===a?n(k):(e.consume(k),h)}function f(k){return k===null||Y(k)?d(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(k))}function x(k){return k===null||Y(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(k)):k===96&&k===a?n(k):(e.consume(k),x)}function m(k){return e.attempt(i,I,w)(k)}function w(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),y}function y(k){return l>0&&oe(k)?ce(e,v,"linePrefix",l+1)(k):v(k)}function v(k){return k===null||Y(k)?e.check(_r,m,I)(k):(e.enter("codeFlowValue"),b(k))}function b(k){return k===null||Y(k)?(e.exit("codeFlowValue"),v(k)):(e.consume(k),b)}function I(k){return e.exit("codeFenced"),t(k)}function D(k,V,X){let q=0;return A;function A(R){return k.enter("lineEnding"),k.consume(R),k.exit("lineEnding"),_}function _(R){return k.enter("codeFencedFence"),oe(R)?ce(k,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):L(R)}function L(R){return R===a?(k.enter("codeFencedFenceSequence"),Q(R)):X(R)}function Q(R){return R===a?(q++,k.consume(R),Q):q>=o?(k.exit("codeFencedFenceSequence"),oe(R)?ce(k,N,"whitespace")(R):N(R)):X(R)}function N(R){return R===null||Y(R)?(k.exit("codeFencedFence"),V(R)):X(R)}}}function Ma(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const xn={name:"codeIndented",tokenize:Oa},La={partial:!0,tokenize:Da};function Oa(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),ce(e,l,"linePrefix",5)(u)}function l(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?s(u):Y(u)?e.attempt(La,o,s)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||Y(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function s(u){return e.exit("codeIndented"),t(u)}}function Da(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Y(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):ce(e,l,"linePrefix",5)(o)}function l(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Y(o)?i(o):n(o)}}const Ra={name:"codeText",previous:Fa,resolve:za,tokenize:Na};function za(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Fa(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Na(e,t,n){let r=0,i,l;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),s(d))}function s(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),s):d===96?(l=e.enter("codeTextSequence"),i=0,c(d)):Y(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Y(d)?(e.exit("codeTextData"),s(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(l.type="codeTextData",u(d))}}class Ba{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Lt(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Lt(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Lt(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Lt(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Lt(this.left,n.reverse())}}}function Lt(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Yi(e){const t={};let n=-1,r,i,l,o,a,s,u;const c=new Ba(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(s=r[1]._tokenizer.events,l=0,l<s.length&&s[l][1].type==="lineEndingBlank"&&(l+=2),l<s.length&&s[l][1].type==="content"))for(;++l<s.length&&s[l][1].type!=="content";)s[l][1].type==="chunkText"&&(s[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,ja(c,n)),n=t[n],u=!0);else if(r[1]._container){for(l=n,i=void 0;l--;)if(o=c.get(l),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=l);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Ve(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function ja(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const l=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,s=[],u={};let c,d,h=-1,f=n,x=0,m=0;const w=[m];for(;f;){for(;e.get(++i)[1]!==f;);l.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),d&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(m=h+1,w.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):w.pop(),h=w.length;h--;){const y=a.slice(w[h],w[h+1]),v=l.pop();s.push([v,v+y.length-1]),e.splice(v,2,y)}for(s.reverse(),h=-1;++h<s.length;)u[x+s[h][0]]=x+s[h][1],x+=s[h][1]-s[h][0]-1;return u}const Ua={resolve:Ha,tokenize:qa},Va={partial:!0,tokenize:Ka};function Ha(e){return Yi(e),e}function qa(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?l(a):Y(a)?e.check(Va,o,l)(a):(e.consume(a),i)}function l(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Ka(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ce(e,l,"linePrefix")}function l(o){if(o===null||Y(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Qi(e,t,n,r,i,l,o,a,s){const u=s||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(l),e.consume(y),e.exit(l),h):y===null||y===32||y===41||jn(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(y))}function h(y){return y===62?(e.enter(l),e.consume(y),e.exit(l),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(e.exit("chunkString"),e.exit(a),h(y)):y===null||y===60||Y(y)?n(y):(e.consume(y),y===92?x:f)}function x(y){return y===60||y===62||y===92?(e.consume(y),f):f(y)}function m(y){return!c&&(y===null||y===41||$e(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,m):y===41?(e.consume(y),c--,m):y===null||y===32||y===40||jn(y)?n(y):(e.consume(y),y===92?w:m)}function w(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function Zi(e,t,n,r,i,l){const o=this;let a=0,s;return u;function u(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(l),c}function c(f){return a>999||f===null||f===91||f===93&&!s||f===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(e.exit(l),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):Y(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||Y(f)||a++>999?(e.exit("chunkString"),c(f)):(e.consume(f),s||(s=!oe(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(e.consume(f),a++,d):d(f)}}function Xi(e,t,n,r,i,l){let o;return a;function a(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,s):n(h)}function s(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(l),u(h))}function u(h){return h===o?(e.exit(l),s(o)):h===null?n(h):Y(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),ce(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===o||h===null||Y(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?d:c)}function d(h){return h===o||h===92?(e.consume(h),c):c(h)}}function zt(e,t){let n;return r;function r(i){return Y(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):oe(i)?ce(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Wa={name:"definition",tokenize:Ya},Ga={partial:!0,tokenize:Qa};function Ya(e,t,n){const r=this;let i;return l;function l(f){return e.enter("definition"),o(f)}function o(f){return Zi.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=At(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),s):n(f)}function s(f){return $e(f)?zt(e,u)(f):u(f)}function u(f){return Qi(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return e.attempt(Ga,d,d)(f)}function d(f){return oe(f)?ce(e,h,"whitespace")(f):h(f)}function h(f){return f===null||Y(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function Qa(e,t,n){return r;function r(a){return $e(a)?zt(e,i)(a):n(a)}function i(a){return Xi(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function l(a){return oe(a)?ce(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Y(a)?t(a):n(a)}}const Za={name:"hardBreakEscape",tokenize:Xa};function Xa(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),i}function i(l){return Y(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const Ja={name:"headingAtx",resolve:es,tokenize:ts};function es(e,t){let n=e.length-2,r=3,i,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ve(e,r,n-r+1,[["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t]])),e}function ts(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),l(c)}function l(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||$e(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),s(c)):c===null||Y(c)?(e.exit("atxHeading"),t(c)):oe(c)?ce(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function s(c){return c===35?(e.consume(c),s):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||$e(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const ns=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Mr=["pre","script","style","textarea"],rs={concrete:!0,name:"htmlFlow",resolveTo:os,tokenize:as},is={partial:!0,tokenize:us},ls={partial:!0,tokenize:ss};function os(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function as(e,t,n){const r=this;let i,l,o,a,s;return u;function u(g){return c(g)}function c(g){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(g),d}function d(g){return g===33?(e.consume(g),h):g===47?(e.consume(g),l=!0,m):g===63?(e.consume(g),i=3,r.interrupt?t:p):je(g)?(e.consume(g),o=String.fromCharCode(g),w):n(g)}function h(g){return g===45?(e.consume(g),i=2,f):g===91?(e.consume(g),i=5,a=0,x):je(g)?(e.consume(g),i=4,r.interrupt?t:p):n(g)}function f(g){return g===45?(e.consume(g),r.interrupt?t:p):n(g)}function x(g){const be="CDATA[";return g===be.charCodeAt(a++)?(e.consume(g),a===be.length?r.interrupt?t:L:x):n(g)}function m(g){return je(g)?(e.consume(g),o=String.fromCharCode(g),w):n(g)}function w(g){if(g===null||g===47||g===62||$e(g)){const be=g===47,Ae=o.toLowerCase();return!be&&!l&&Mr.includes(Ae)?(i=1,r.interrupt?t(g):L(g)):ns.includes(o.toLowerCase())?(i=6,be?(e.consume(g),y):r.interrupt?t(g):L(g)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(g):l?v(g):b(g))}return g===45||Pe(g)?(e.consume(g),o+=String.fromCharCode(g),w):n(g)}function y(g){return g===62?(e.consume(g),r.interrupt?t:L):n(g)}function v(g){return oe(g)?(e.consume(g),v):A(g)}function b(g){return g===47?(e.consume(g),A):g===58||g===95||je(g)?(e.consume(g),I):oe(g)?(e.consume(g),b):A(g)}function I(g){return g===45||g===46||g===58||g===95||Pe(g)?(e.consume(g),I):D(g)}function D(g){return g===61?(e.consume(g),k):oe(g)?(e.consume(g),D):b(g)}function k(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(e.consume(g),s=g,V):oe(g)?(e.consume(g),k):X(g)}function V(g){return g===s?(e.consume(g),s=null,q):g===null||Y(g)?n(g):(e.consume(g),V)}function X(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||$e(g)?D(g):(e.consume(g),X)}function q(g){return g===47||g===62||oe(g)?b(g):n(g)}function A(g){return g===62?(e.consume(g),_):n(g)}function _(g){return g===null||Y(g)?L(g):oe(g)?(e.consume(g),_):n(g)}function L(g){return g===45&&i===2?(e.consume(g),O):g===60&&i===1?(e.consume(g),B):g===62&&i===4?(e.consume(g),de):g===63&&i===3?(e.consume(g),p):g===93&&i===5?(e.consume(g),ee):Y(g)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(is,re,Q)(g)):g===null||Y(g)?(e.exit("htmlFlowData"),Q(g)):(e.consume(g),L)}function Q(g){return e.check(ls,N,re)(g)}function N(g){return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),R}function R(g){return g===null||Y(g)?Q(g):(e.enter("htmlFlowData"),L(g))}function O(g){return g===45?(e.consume(g),p):L(g)}function B(g){return g===47?(e.consume(g),o="",K):L(g)}function K(g){if(g===62){const be=o.toLowerCase();return Mr.includes(be)?(e.consume(g),de):L(g)}return je(g)&&o.length<8?(e.consume(g),o+=String.fromCharCode(g),K):L(g)}function ee(g){return g===93?(e.consume(g),p):L(g)}function p(g){return g===62?(e.consume(g),de):g===45&&i===2?(e.consume(g),p):L(g)}function de(g){return g===null||Y(g)?(e.exit("htmlFlowData"),re(g)):(e.consume(g),de)}function re(g){return e.exit("htmlFlow"),t(g)}}function ss(e,t,n){const r=this;return i;function i(o){return Y(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l):n(o)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function us(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(cn,t,n)}}const cs={name:"htmlText",tokenize:ds};function ds(e,t,n){const r=this;let i,l,o;return a;function a(p){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(p),s}function s(p){return p===33?(e.consume(p),u):p===47?(e.consume(p),D):p===63?(e.consume(p),b):je(p)?(e.consume(p),X):n(p)}function u(p){return p===45?(e.consume(p),c):p===91?(e.consume(p),l=0,x):je(p)?(e.consume(p),v):n(p)}function c(p){return p===45?(e.consume(p),f):n(p)}function d(p){return p===null?n(p):p===45?(e.consume(p),h):Y(p)?(o=d,B(p)):(e.consume(p),d)}function h(p){return p===45?(e.consume(p),f):d(p)}function f(p){return p===62?O(p):p===45?h(p):d(p)}function x(p){const de="CDATA[";return p===de.charCodeAt(l++)?(e.consume(p),l===de.length?m:x):n(p)}function m(p){return p===null?n(p):p===93?(e.consume(p),w):Y(p)?(o=m,B(p)):(e.consume(p),m)}function w(p){return p===93?(e.consume(p),y):m(p)}function y(p){return p===62?O(p):p===93?(e.consume(p),y):m(p)}function v(p){return p===null||p===62?O(p):Y(p)?(o=v,B(p)):(e.consume(p),v)}function b(p){return p===null?n(p):p===63?(e.consume(p),I):Y(p)?(o=b,B(p)):(e.consume(p),b)}function I(p){return p===62?O(p):b(p)}function D(p){return je(p)?(e.consume(p),k):n(p)}function k(p){return p===45||Pe(p)?(e.consume(p),k):V(p)}function V(p){return Y(p)?(o=V,B(p)):oe(p)?(e.consume(p),V):O(p)}function X(p){return p===45||Pe(p)?(e.consume(p),X):p===47||p===62||$e(p)?q(p):n(p)}function q(p){return p===47?(e.consume(p),O):p===58||p===95||je(p)?(e.consume(p),A):Y(p)?(o=q,B(p)):oe(p)?(e.consume(p),q):O(p)}function A(p){return p===45||p===46||p===58||p===95||Pe(p)?(e.consume(p),A):_(p)}function _(p){return p===61?(e.consume(p),L):Y(p)?(o=_,B(p)):oe(p)?(e.consume(p),_):q(p)}function L(p){return p===null||p===60||p===61||p===62||p===96?n(p):p===34||p===39?(e.consume(p),i=p,Q):Y(p)?(o=L,B(p)):oe(p)?(e.consume(p),L):(e.consume(p),N)}function Q(p){return p===i?(e.consume(p),i=void 0,R):p===null?n(p):Y(p)?(o=Q,B(p)):(e.consume(p),Q)}function N(p){return p===null||p===34||p===39||p===60||p===61||p===96?n(p):p===47||p===62||$e(p)?q(p):(e.consume(p),N)}function R(p){return p===47||p===62||$e(p)?q(p):n(p)}function O(p){return p===62?(e.consume(p),e.exit("htmlTextData"),e.exit("htmlText"),t):n(p)}function B(p){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),K}function K(p){return oe(p)?ce(e,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p):ee(p)}function ee(p){return e.enter("htmlTextData"),o(p)}}const or={name:"labelEnd",resolveAll:gs,resolveTo:ms,tokenize:ys},fs={tokenize:xs},hs={tokenize:bs},ps={tokenize:ws};function gs(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ve(e,0,e.length,n),e}function ms(e,t){let n=e.length,r=0,i,l,o,a;for(;n--;)if(i=e[n][1],l){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(l=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const s={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[l][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",s,t],["enter",u,t]],a=Oe(a,e.slice(l+1,l+r+3)),a=Oe(a,[["enter",c,t]]),a=Oe(a,lr(t.parser.constructs.insideSpan.null,e.slice(l+r+4,o-3),t)),a=Oe(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=Oe(a,e.slice(o+1)),a=Oe(a,[["exit",s,t]]),Ve(e,l,e.length,a),e}function ys(e,t,n){const r=this;let i=r.events.length,l,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){l=r.events[i][1];break}return a;function a(h){return l?l._inactive?d(h):(o=r.parser.defined.includes(At(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),s):n(h)}function s(h){return h===40?e.attempt(fs,c,o?c:d)(h):h===91?e.attempt(hs,c,o?u:d)(h):o?c(h):d(h)}function u(h){return e.attempt(ps,c,d)(h)}function c(h){return t(h)}function d(h){return l._balanced=!0,n(h)}}function xs(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return $e(d)?zt(e,l)(d):l(d)}function l(d){return d===41?c(d):Qi(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return $e(d)?zt(e,s)(d):c(d)}function a(d){return n(d)}function s(d){return d===34||d===39||d===40?Xi(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return $e(d)?zt(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function bs(e,t,n){const r=this;return i;function i(a){return Zi.call(r,e,l,o,"reference","referenceMarker","referenceString")(a)}function l(a){return r.parser.defined.includes(At(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function ws(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),i}function i(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const ks={name:"labelStartImage",resolveAll:or.resolveAll,tokenize:vs};function vs(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),l}function l(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Ss={name:"labelStartLink",resolveAll:or.resolveAll,tokenize:Cs};function Cs(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const bn={name:"lineEnding",tokenize:$s};function $s(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ce(e,t,"linePrefix")}}const Xt={name:"thematicBreak",tokenize:Es};function Es(e,t,n){let r=0,i;return l;function l(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),s(u)):r>=3&&(u===null||Y(u))?(e.exit("thematicBreak"),t(u)):n(u)}function s(u){return u===i?(e.consume(u),r++,s):(e.exit("thematicBreakSequence"),oe(u)?ce(e,a,"whitespace")(u):a(u))}}const Ce={continuation:{tokenize:_s},exit:Ms,name:"list",tokenize:Ps},As={partial:!0,tokenize:Ls},Is={partial:!0,tokenize:Ts};function Ps(e,t,n){const r=this,i=r.events[r.events.length-1];let l=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(f){const x=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Un(f)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Xt,n,u)(f):u(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(f)}return n(f)}function s(f){return Un(f)&&++o<10?(e.consume(f),s):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):n(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(cn,r.interrupt?n:c,e.attempt(As,h,d))}function c(f){return r.containerState.initialBlankLine=!0,l++,h(f)}function d(f){return oe(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function _s(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(cn,i,l);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ce(e,t,"listItemIndent",r.containerState.size+1)(a)}function l(a){return r.containerState.furtherBlankLines||!oe(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Is,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ce(e,e.attempt(Ce,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Ts(e,t,n){const r=this;return ce(e,i,"listItemIndent",r.containerState.size+1);function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(l):n(l)}}function Ms(e){e.exit(this.containerState.type)}function Ls(e,t,n){const r=this;return ce(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(l){const o=r.events[r.events.length-1];return!oe(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Lr={name:"setextUnderline",resolveTo:Os,tokenize:Ds};function Os(e,t){let n=e.length,r,i,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",l?(e.splice(i,0,["enter",o,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Ds(e,t,n){const r=this;let i;return l;function l(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),oe(u)?ce(e,s,"lineSuffix")(u):s(u))}function s(u){return u===null||Y(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Rs={tokenize:zs};function zs(e){const t=this,n=e.attempt(cn,r,e.attempt(this.parser.constructs.flowInitial,i,ce(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Ua,i)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Fs={resolveAll:el()},Ns=Ji("string"),Bs=Ji("text");function Ji(e){return{resolveAll:el(e==="text"?js:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],l=n.attempt(i,o,a);return o;function o(c){return u(c)?l(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),s}function s(c){return u(c)?(n.exit("data"),l(c)):(n.consume(c),s)}function u(c){if(c===null)return!0;const d=i[c];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function el(e){return t;function t(n,r){let i=-1,l;for(;++i<=n.length;)l===void 0?n[i]&&n[i][1].type==="data"&&(l=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),i=l+2),l=void 0);return e?e(n,r):n}}function js(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let l=i.length,o=-1,a=0,s;for(;l--;){const u=i[l];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)s=!0,a++;else if(u!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||s||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:r.start._bufferIndex+o,_index:r.start._index+l,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Us={42:Ce,43:Ce,45:Ce,48:Ce,49:Ce,50:Ce,51:Ce,52:Ce,53:Ce,54:Ce,55:Ce,56:Ce,57:Ce,62:Ki},Vs={91:Wa},Hs={[-2]:xn,[-1]:xn,32:xn},qs={35:Ja,42:Xt,45:[Lr,Xt],60:rs,61:Lr,95:Xt,96:Tr,126:Tr},Ks={38:Gi,92:Wi},Ws={[-5]:bn,[-4]:bn,[-3]:bn,33:ks,38:Gi,42:Vn,60:[Sa,cs],91:Ss,92:[Za,Wi],93:or,95:Vn,96:Ra},Gs={null:[Vn,Fs]},Ys={null:[42,95]},Qs={null:[]},Zs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ys,contentInitial:Vs,disable:Qs,document:Us,flow:qs,flowInitial:Hs,insideSpan:Gs,string:Ks,text:Ws},Symbol.toStringTag,{value:"Module"}));function Xs(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},l=[];let o=[],a=[];const s={attempt:V(D),check:V(k),consume:v,enter:b,exit:I,interrupt:V(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:x,parser:e,previous:null,sliceSerialize:h,sliceStream:f,write:d};let c=t.tokenize.call(u,s);return t.resolveAll&&l.push(t),u;function d(_){return o=Oe(o,_),w(),o[o.length-1]!==null?[]:(X(t,0),u.events=lr(l,u.events,u),u.events)}function h(_,L){return eu(f(_),L)}function f(_){return Js(o,_)}function x(){const{_bufferIndex:_,_index:L,line:Q,column:N,offset:R}=r;return{_bufferIndex:_,_index:L,line:Q,column:N,offset:R}}function m(_){i[_.line]=_.column,A()}function w(){let _;for(;r._index<o.length;){const L=o[r._index];if(typeof L=="string")for(_=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===_&&r._bufferIndex<L.length;)y(L.charCodeAt(r._bufferIndex));else y(L)}}function y(_){c=c(_)}function v(_){Y(_)?(r.line++,r.column=1,r.offset+=_===-3?2:1,A()):_!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=_}function b(_,L){const Q=L||{};return Q.type=_,Q.start=x(),u.events.push(["enter",Q,u]),a.push(Q),Q}function I(_){const L=a.pop();return L.end=x(),u.events.push(["exit",L,u]),L}function D(_,L){X(_,L.from)}function k(_,L){L.restore()}function V(_,L){return Q;function Q(N,R,O){let B,K,ee,p;return Array.isArray(N)?re(N):"tokenize"in N?re([N]):de(N);function de(ye){return Re;function Re(me){const ze=me!==null&&ye[me],we=me!==null&&ye.null,qe=[...Array.isArray(ze)?ze:ze?[ze]:[],...Array.isArray(we)?we:we?[we]:[]];return re(qe)(me)}}function re(ye){return B=ye,K=0,ye.length===0?O:g(ye[K])}function g(ye){return Re;function Re(me){return p=q(),ee=ye,ye.partial||(u.currentConstruct=ye),ye.name&&u.parser.constructs.disable.null.includes(ye.name)?Ae():ye.tokenize.call(L?Object.assign(Object.create(u),L):u,s,be,Ae)(me)}}function be(ye){return _(ee,p),R}function Ae(ye){return p.restore(),++K<B.length?g(B[K]):O}}}function X(_,L){_.resolveAll&&!l.includes(_)&&l.push(_),_.resolve&&Ve(u.events,L,u.events.length-L,_.resolve(u.events.slice(L),u)),_.resolveTo&&(u.events=_.resolveTo(u.events,u))}function q(){const _=x(),L=u.previous,Q=u.currentConstruct,N=u.events.length,R=Array.from(a);return{from:N,restore:O};function O(){r=_,u.previous=L,u.currentConstruct=Q,u.events.length=N,a=R,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Js(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,l=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,l)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}l>0&&o.push(e[i].slice(0,l))}return o}function eu(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(l)}i=l===-2,r.push(o)}return r.join("")}function tu(e){const r={constructs:sa([Zs,...(e||{}).extensions||[]]),content:i(ma),defined:[],document:i(xa),flow:i(Rs),lazy:{},string:i(Ns),text:i(Bs)};return r;function i(l){return o;function o(a){return Xs(r,l,a)}}}function nu(e){for(;!Yi(e););return e}const Or=/[\0\t\n\r]/g;function ru(){let e=1,t="",n=!0,r;return i;function i(l,o,a){const s=[];let u,c,d,h,f;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(o||void 0).decode(l)),d=0,t="",n&&(l.charCodeAt(0)===65279&&d++,n=void 0);d<l.length;){if(Or.lastIndex=d,u=Or.exec(l),h=u&&u.index!==void 0?u.index:l.length,f=l.charCodeAt(h),!u){t=l.slice(d);break}if(f===10&&d===h&&r)s.push(-3),r=void 0;else switch(r&&(s.push(-5),r=void 0),d<h&&(s.push(l.slice(d,h)),e+=h-d),f){case 0:{s.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,s.push(-2);e++<c;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return a&&(r&&s.push(-5),t&&s.push(t),s.push(null)),s}}const iu=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lu(e){return e.replace(iu,ou)}function ou(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),l=i===120||i===88;return qi(n.slice(l?2:1),l?16:10)}return ir(n)||e}function Ft(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Dr(e.position):"start"in e||"end"in e?Dr(e):"line"in e||"column"in e?Hn(e):""}function Hn(e){return Rr(e&&e.line)+":"+Rr(e&&e.column)}function Dr(e){return Hn(e&&e.start)+"-"+Hn(e&&e.end)}function Rr(e){return e&&typeof e=="number"?e:1}const tl={}.hasOwnProperty;function au(e,t,n){return typeof t!="string"&&(n=t,t=void 0),su(n)(nu(tu(n).document().write(ru()(e,t,!0))))}function su(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ze),autolinkProtocol:q,autolinkEmail:q,atxHeading:l(st),blockQuote:l(we),characterEscape:q,characterReference:q,codeFenced:l(qe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(qe,o),codeText:l(xt,o),codeTextData:q,data:q,codeFlowValue:q,definition:l(at),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(Qe),hardBreakEscape:l(Ke),hardBreakTrailing:l(Ke),htmlFlow:l(ut,o),htmlFlowData:q,htmlText:l(ut,o),htmlTextData:q,image:l(bt),label:o,link:l(Ze),listItem:l(ct),listItemValue:h,listOrdered:l(We,d),listUnordered:l(We),paragraph:l(dt),reference:g,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(st),strong:l(Mt),thematicBreak:l(ft)},exit:{atxHeading:s(),atxHeadingSequence:D,autolink:s(),autolinkEmail:ze,autolinkProtocol:me,blockQuote:s(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:ye,characterReference:Re,codeFenced:s(w),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:x,codeFlowValue:A,codeIndented:s(y),codeText:s(R),codeTextData:A,data:A,definition:s(),definitionDestinationString:I,definitionLabelString:v,definitionTitleString:b,emphasis:s(),hardBreakEscape:s(L),hardBreakTrailing:s(L),htmlFlow:s(Q),htmlFlowData:A,htmlText:s(N),htmlTextData:A,image:s(B),label:ee,labelText:K,lineEnding:_,link:s(O),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:be,resourceDestinationString:p,resourceTitleString:de,resource:re,setextHeading:s(X),setextHeadingLineSequence:V,setextHeadingText:k,strong:s(),thematicBreak:s()}};nl(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(S){let M={type:"root",children:[]};const G={stack:[M],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:n},E=[];let Z=-1;for(;++Z<S.length;)if(S[Z][1].type==="listOrdered"||S[Z][1].type==="listUnordered")if(S[Z][0]==="enter")E.push(Z);else{const fe=E.pop();Z=i(S,fe,Z)}for(Z=-1;++Z<S.length;){const fe=t[S[Z][0]];tl.call(fe,S[Z][1].type)&&fe[S[Z][1].type].call(Object.assign({sliceSerialize:S[Z][2].sliceSerialize},G),S[Z][1])}if(G.tokenStack.length>0){const fe=G.tokenStack[G.tokenStack.length-1];(fe[1]||zr).call(G,void 0,fe[0])}for(M.position={start:Je(S.length>0?S[0][1].start:{line:1,column:1,offset:0}),end:Je(S.length>0?S[S.length-2][1].end:{line:1,column:1,offset:0})},Z=-1;++Z<t.transforms.length;)M=t.transforms[Z](M)||M;return M}function i(S,M,G){let E=M-1,Z=-1,fe=!1,Te,ke,$,z;for(;++E<=G;){const j=S[E];switch(j[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{j[0]==="enter"?Z++:Z--,z=void 0;break}case"lineEndingBlank":{j[0]==="enter"&&(Te&&!z&&!Z&&!$&&($=E),z=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:z=void 0}if(!Z&&j[0]==="enter"&&j[1].type==="listItemPrefix"||Z===-1&&j[0]==="exit"&&(j[1].type==="listUnordered"||j[1].type==="listOrdered")){if(Te){let te=E;for(ke=void 0;te--;){const W=S[te];if(W[1].type==="lineEnding"||W[1].type==="lineEndingBlank"){if(W[0]==="exit")continue;ke&&(S[ke][1].type="lineEndingBlank",fe=!0),W[1].type="lineEnding",ke=te}else if(!(W[1].type==="linePrefix"||W[1].type==="blockQuotePrefix"||W[1].type==="blockQuotePrefixWhitespace"||W[1].type==="blockQuoteMarker"||W[1].type==="listItemIndent"))break}$&&(!ke||$<ke)&&(Te._spread=!0),Te.end=Object.assign({},ke?S[ke][1].start:j[1].end),S.splice(ke||E,0,["exit",Te,j[2]]),E++,G++}if(j[1].type==="listItemPrefix"){const te={type:"listItem",_spread:!1,start:Object.assign({},j[1].start),end:void 0};Te=te,S.splice(E,0,["enter",te,j[2]]),E++,G++,$=void 0,z=!0}}}return S[M][1]._spread=fe,G}function l(S,M){return G;function G(E){a.call(this,S(E),E),M&&M.call(this,E)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(S,M,G){this.stack[this.stack.length-1].children.push(S),this.stack.push(S),this.tokenStack.push([M,G||void 0]),S.position={start:Je(M.start),end:void 0}}function s(S){return M;function M(G){S&&S.call(this,G),u.call(this,G)}}function u(S,M){const G=this.stack.pop(),E=this.tokenStack.pop();if(E)E[0].type!==S.type&&(M?M.call(this,S,E[0]):(E[1]||zr).call(this,S,E[0]));else throw new Error("Cannot close `"+S.type+"` ("+Ft({start:S.start,end:S.end})+"): itâs not open");G.position.end=Je(S.end)}function c(){return oa(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(S){if(this.data.expectingFirstListItemValue){const M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(S),10),this.data.expectingFirstListItemValue=void 0}}function f(){const S=this.resume(),M=this.stack[this.stack.length-1];M.lang=S}function x(){const S=this.resume(),M=this.stack[this.stack.length-1];M.meta=S}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const S=this.resume(),M=this.stack[this.stack.length-1];M.value=S.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const S=this.resume(),M=this.stack[this.stack.length-1];M.value=S.replace(/(\r?\n|\r)$/g,"")}function v(S){const M=this.resume(),G=this.stack[this.stack.length-1];G.label=M,G.identifier=At(this.sliceSerialize(S)).toLowerCase()}function b(){const S=this.resume(),M=this.stack[this.stack.length-1];M.title=S}function I(){const S=this.resume(),M=this.stack[this.stack.length-1];M.url=S}function D(S){const M=this.stack[this.stack.length-1];if(!M.depth){const G=this.sliceSerialize(S).length;M.depth=G}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function V(S){const M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(S).codePointAt(0)===61?1:2}function X(){this.data.setextHeadingSlurpLineEnding=void 0}function q(S){const G=this.stack[this.stack.length-1].children;let E=G[G.length-1];(!E||E.type!=="text")&&(E=_e(),E.position={start:Je(S.start),end:void 0},G.push(E)),this.stack.push(E)}function A(S){const M=this.stack.pop();M.value+=this.sliceSerialize(S),M.position.end=Je(S.end)}function _(S){const M=this.stack[this.stack.length-1];if(this.data.atHardBreak){const G=M.children[M.children.length-1];G.position.end=Je(S.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(M.type)&&(q.call(this,S),A.call(this,S))}function L(){this.data.atHardBreak=!0}function Q(){const S=this.resume(),M=this.stack[this.stack.length-1];M.value=S}function N(){const S=this.resume(),M=this.stack[this.stack.length-1];M.value=S}function R(){const S=this.resume(),M=this.stack[this.stack.length-1];M.value=S}function O(){const S=this.stack[this.stack.length-1];if(this.data.inReference){const M=this.data.referenceType||"shortcut";S.type+="Reference",S.referenceType=M,delete S.url,delete S.title}else delete S.identifier,delete S.label;this.data.referenceType=void 0}function B(){const S=this.stack[this.stack.length-1];if(this.data.inReference){const M=this.data.referenceType||"shortcut";S.type+="Reference",S.referenceType=M,delete S.url,delete S.title}else delete S.identifier,delete S.label;this.data.referenceType=void 0}function K(S){const M=this.sliceSerialize(S),G=this.stack[this.stack.length-2];G.label=lu(M),G.identifier=At(M).toLowerCase()}function ee(){const S=this.stack[this.stack.length-1],M=this.resume(),G=this.stack[this.stack.length-1];if(this.data.inReference=!0,G.type==="link"){const E=S.children;G.children=E}else G.alt=M}function p(){const S=this.resume(),M=this.stack[this.stack.length-1];M.url=S}function de(){const S=this.resume(),M=this.stack[this.stack.length-1];M.title=S}function re(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function be(S){const M=this.resume(),G=this.stack[this.stack.length-1];G.label=M,G.identifier=At(this.sliceSerialize(S)).toLowerCase(),this.data.referenceType="full"}function Ae(S){this.data.characterReferenceType=S.type}function ye(S){const M=this.sliceSerialize(S),G=this.data.characterReferenceType;let E;G?(E=qi(M,G==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):E=ir(M);const Z=this.stack[this.stack.length-1];Z.value+=E}function Re(S){const M=this.stack.pop();M.position.end=Je(S.end)}function me(S){A.call(this,S);const M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(S)}function ze(S){A.call(this,S);const M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(S)}function we(){return{type:"blockquote",children:[]}}function qe(){return{type:"code",lang:null,meta:null,value:""}}function xt(){return{type:"inlineCode",value:""}}function at(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Qe(){return{type:"emphasis",children:[]}}function st(){return{type:"heading",depth:0,children:[]}}function Ke(){return{type:"break"}}function ut(){return{type:"html",value:""}}function bt(){return{type:"image",title:null,url:"",alt:null}}function Ze(){return{type:"link",title:null,url:"",children:[]}}function We(S){return{type:"list",ordered:S.type==="listOrdered",start:null,spread:S._spread,children:[]}}function ct(S){return{type:"listItem",spread:S._spread,checked:null,children:[]}}function dt(){return{type:"paragraph",children:[]}}function Mt(){return{type:"strong",children:[]}}function _e(){return{type:"text",value:""}}function ft(){return{type:"thematicBreak"}}}function Je(e){return{line:e.line,column:e.column,offset:e.offset}}function nl(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?nl(e,r):uu(e,r)}}function uu(e,t){let n;for(n in t)if(tl.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function zr(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ft({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ft({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ft({start:t.start,end:t.end})+") is still open")}function cu(e){const t=this;t.parser=n;function n(r){return au(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function du(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function fu(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function hu(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function pu(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gu(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mu(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=_t(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=l+1,a+=1,e.footnoteCounts.set(r,a);const s={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,s);const u={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,u),e.applyData(t,u)}function yu(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xu(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function rl(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),l=i[0];l&&l.type==="text"?l.value="["+l.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function bu(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rl(e,t);const i={src:_t(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,l),e.applyData(t,l)}function wu(e,t){const n={src:_t(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ku(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function vu(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rl(e,t);const i={href:_t(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const l={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function Su(e,t){const n={href:_t(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Cu(e,t,n){const r=e.all(t),i=n?$u(n):il(t),l={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const s=r[r.length-1];s&&(i||s.type!=="element"||s.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:l,children:o};return e.patch(t,u),e.applyData(t,u)}function $u(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=il(n[r])}return t}function il(e){const t=e.spread;return t??e.children.length>1}function Eu(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function Au(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Iu(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Pu(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ll=al("end"),ol=al("start");function al(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function _u(e){const t=ol(e),n=ll(e);if(t&&n)return{start:t,end:n}}function Tu(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=ol(t.children[1]),s=ll(t.children[t.children.length-1]);a&&s&&(o.position={start:a,end:s}),i.push(o)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function Mu(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let s=-1;const u=[];for(;++s<a;){const d=t.children[s],h={},f=o?o[s]:void 0;f&&(h.align=f);let x={type:"element",tagName:l,properties:h,children:[]};d&&(x.children=e.all(d),e.patch(d,x),x=e.applyData(d,x)),u.push(x)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Lu(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Fr=9,Nr=32;function Ou(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const l=[];for(;r;)l.push(Br(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return l.push(Br(t.slice(i),i>0,!1)),l.join("")}function Br(e,t,n){let r=0,i=e.length;if(t){let l=e.codePointAt(r);for(;l===Fr||l===Nr;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(i-1);for(;l===Fr||l===Nr;)i--,l=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Du(e,t){const n={type:"text",value:Ou(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Ru(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const zu={blockquote:du,break:fu,code:hu,delete:pu,emphasis:gu,footnoteReference:mu,heading:yu,html:xu,imageReference:bu,image:wu,inlineCode:ku,linkReference:vu,link:Su,listItem:Cu,list:Eu,paragraph:Au,root:Iu,strong:Pu,table:Tu,tableCell:Lu,tableRow:Mu,text:Du,thematicBreak:Ru,toml:Gt,yaml:Gt,definition:Gt,footnoteDefinition:Gt};function Gt(){}const sl=-1,dn=0,Nt=1,on=2,ar=3,sr=4,ur=5,cr=6,ul=7,cl=8,jr=typeof self=="object"?self:globalThis,Fu=(e,t)=>{const n=(i,l)=>(e.set(l,i),i),r=i=>{if(e.has(i))return e.get(i);const[l,o]=t[i];switch(l){case dn:case sl:return n(o,i);case Nt:{const a=n([],i);for(const s of o)a.push(r(s));return a}case on:{const a=n({},i);for(const[s,u]of o)a[r(s)]=r(u);return a}case ar:return n(new Date(o),i);case sr:{const{source:a,flags:s}=o;return n(new RegExp(a,s),i)}case ur:{const a=n(new Map,i);for(const[s,u]of o)a.set(r(s),r(u));return a}case cr:{const a=n(new Set,i);for(const s of o)a.add(r(s));return a}case ul:{const{name:a,message:s}=o;return n(new jr[a](s),i)}case cl:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new jr[l](o),i)};return r},Ur=e=>Fu(new Map,e)(0),kt="",{toString:Nu}={},{keys:Bu}=Object,Ot=e=>{const t=typeof e;if(t!=="object"||!e)return[dn,t];const n=Nu.call(e).slice(8,-1);switch(n){case"Array":return[Nt,kt];case"Object":return[on,kt];case"Date":return[ar,kt];case"RegExp":return[sr,kt];case"Map":return[ur,kt];case"Set":return[cr,kt];case"DataView":return[Nt,n]}return n.includes("Array")?[Nt,n]:n.includes("Error")?[ul,n]:[on,n]},Yt=([e,t])=>e===dn&&(t==="function"||t==="symbol"),ju=(e,t,n,r)=>{const i=(o,a)=>{const s=r.push(o)-1;return n.set(a,s),s},l=o=>{if(n.has(o))return n.get(o);let[a,s]=Ot(o);switch(a){case dn:{let c=o;switch(s){case"bigint":a=cl,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);c=null;break;case"undefined":return i([sl],o)}return i([a,c],o)}case Nt:{if(s){let h=o;return s==="DataView"?h=new Uint8Array(o.buffer):s==="ArrayBuffer"&&(h=new Uint8Array(o)),i([s,[...h]],o)}const c=[],d=i([a,c],o);for(const h of o)c.push(l(h));return d}case on:{if(s)switch(s){case"BigInt":return i([s,o.toString()],o);case"Boolean":case"Number":case"String":return i([s,o.valueOf()],o)}if(t&&"toJSON"in o)return l(o.toJSON());const c=[],d=i([a,c],o);for(const h of Bu(o))(e||!Yt(Ot(o[h])))&&c.push([l(h),l(o[h])]);return d}case ar:return i([a,o.toISOString()],o);case sr:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case ur:{const c=[],d=i([a,c],o);for(const[h,f]of o)(e||!(Yt(Ot(h))||Yt(Ot(f))))&&c.push([l(h),l(f)]);return d}case cr:{const c=[],d=i([a,c],o);for(const h of o)(e||!Yt(Ot(h)))&&c.push(l(h));return d}}const{message:u}=o;return i([a,{name:s,message:u}],o)};return l},Vr=(e,{json:t,lossy:n}={})=>{const r=[];return ju(!(t||n),!!t,new Map,r)(e),r},an=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Ur(Vr(e,t)):structuredClone(e):(e,t)=>Ur(Vr(e,t));function Uu(e,t){const n=[{type:"text",value:"â©"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Vu(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Hu(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Uu,r=e.options.footnoteBackLabel||Vu,i=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let s=-1;for(;++s<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[s]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),h=_t(d.toLowerCase());let f=0;const x=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++f<=m;){x.length>0&&x.push({type:"text",value:" "});let v=typeof n=="string"?n:n(s,f);typeof v=="string"&&(v={type:"text",value:v}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(s,f),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const v=w.children[w.children.length-1];v&&v.type==="text"?v.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...x)}else c.push(...x);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(c,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...an(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const dl=(function(e){if(e==null)return Gu;if(typeof e=="function")return fn(e);if(typeof e=="object")return Array.isArray(e)?qu(e):Ku(e);if(typeof e=="string")return Wu(e);throw new Error("Expected function, string, or object as test")});function qu(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=dl(e[n]);return fn(r);function r(...i){let l=-1;for(;++l<t.length;)if(t[l].apply(this,i))return!0;return!1}}function Ku(e){const t=e;return fn(n);function n(r){const i=r;let l;for(l in e)if(i[l]!==t[l])return!1;return!0}}function Wu(e){return fn(t);function t(n){return n&&n.type===e}}function fn(e){return t;function t(n,r,i){return!!(Yu(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Gu(){return!0}function Yu(e){return e!==null&&typeof e=="object"&&"type"in e}const fl=[],Qu=!0,Hr=!1,Zu="skip";function Xu(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const l=dl(i),o=r?-1:1;a(e,void 0,[])();function a(s,u,c){const d=s&&typeof s=="object"?s:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(s.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=fl,x,m,w;if((!t||l(s,u,c[c.length-1]||void 0))&&(f=Ju(n(s,c)),f[0]===Hr))return f;if("children"in s&&s.children){const y=s;if(y.children&&f[0]!==Zu)for(m=(r?y.children.length:-1)+o,w=c.concat(y);m>-1&&m<y.children.length;){const v=y.children[m];if(x=a(v,m,w)(),x[0]===Hr)return x;m=typeof x[1]=="number"?x[1]:m+o}}return f}}}function Ju(e){return Array.isArray(e)?e:typeof e=="number"?[Qu,e]:e==null?fl:[e]}function ec(e,t,n,r){let i,l,o;typeof t=="function"&&typeof n!="function"?(l=void 0,o=t,i=n):(l=t,o=n,i=r),Xu(e,l,a,i);function a(s,u){const c=u[u.length-1],d=c?c.children.indexOf(s):void 0;return o(s,d,c)}}const qn={}.hasOwnProperty,tc={};function nc(e,t){const n=t||tc,r=new Map,i=new Map,l=new Map,o={...zu,...n.handlers},a={all:u,applyData:ic,definitionById:r,footnoteById:i,footnoteCounts:l,footnoteOrder:[],handlers:o,one:s,options:n,patch:rc,wrap:oc};return ec(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,h=String(c.identifier).toUpperCase();d.has(h)||d.set(h,c)}}),a;function s(c,d){const h=c.type,f=a.handlers[h];if(qn.call(a.handlers,h)&&f)return f(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in c){const{children:m,...w}=c,y=an(w);return y.children=a.all(c),y}return an(c)}return(a.options.unknownHandler||lc)(a,c,d)}function u(c){const d=[];if("children"in c){const h=c.children;let f=-1;for(;++f<h.length;){const x=a.one(h[f],c);if(x){if(f&&h[f-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=qr(x.value)),!Array.isArray(x)&&x.type==="element")){const m=x.children[0];m&&m.type==="text"&&(m.value=qr(m.value))}Array.isArray(x)?d.push(...x):d.push(x)}}}return d}}function rc(e,t){e.position&&(t.position=_u(e))}function ic(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&l&&Object.assign(n.properties,an(l)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function lc(e,t){const n=t.data||{},r="value"in t&&!(qn.call(n,"hProperties")||qn.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function oc(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function qr(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Kr(e,t){const n=nc(e,t),r=n.one(e,void 0),i=Hu(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&l.children.push({type:"text",value:`
`},i),l}function ac(e,t){return e&&"run"in e?async function(n,r){const i=Kr(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Kr(n,{file:r,...e||t})}}class qt{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}qt.prototype.property={};qt.prototype.normal={};qt.prototype.space=null;function hl(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new qt(n,r,t)}function Kn(e){return e.toLowerCase()}class De{constructor(t,n){this.property=t,this.attribute=n}}De.prototype.space=null;De.prototype.boolean=!1;De.prototype.booleanish=!1;De.prototype.overloadedBoolean=!1;De.prototype.number=!1;De.prototype.commaSeparated=!1;De.prototype.spaceSeparated=!1;De.prototype.commaOrSpaceSeparated=!1;De.prototype.mustUseProperty=!1;De.prototype.defined=!1;let sc=0;const J=yt(),xe=yt(),pl=yt(),P=yt(),ue=yt(),It=yt(),Ie=yt();function yt(){return 2**++sc}const Wn=Object.freeze(Object.defineProperty({__proto__:null,boolean:J,booleanish:xe,commaOrSpaceSeparated:Ie,commaSeparated:It,number:P,overloadedBoolean:pl,spaceSeparated:ue},Symbol.toStringTag,{value:"Module"})),wn=Object.keys(Wn);class dr extends De{constructor(t,n,r,i){let l=-1;if(super(t,n),Wr(this,"space",i),typeof r=="number")for(;++l<wn.length;){const o=wn[l];Wr(this,wn[l],(r&Wn[o])===Wn[o])}}}dr.prototype.defined=!0;function Wr(e,t,n){n&&(e[t]=n)}const uc={}.hasOwnProperty;function Tt(e){const t={},n={};let r;for(r in e.properties)if(uc.call(e.properties,r)){const i=e.properties[r],l=new dr(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Kn(r)]=r,n[Kn(l.attribute)]=r}return new qt(t,n,e.space)}const gl=Tt({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),ml=Tt({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function yl(e,t){return t in e?e[t]:t}function xl(e,t){return yl(e,t.toLowerCase())}const bl=Tt({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:xl,properties:{xmlns:null,xmlnsXLink:null}}),wl=Tt({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:xe,ariaAutoComplete:null,ariaBusy:xe,ariaChecked:xe,ariaColCount:P,ariaColIndex:P,ariaColSpan:P,ariaControls:ue,ariaCurrent:null,ariaDescribedBy:ue,ariaDetails:null,ariaDisabled:xe,ariaDropEffect:ue,ariaErrorMessage:null,ariaExpanded:xe,ariaFlowTo:ue,ariaGrabbed:xe,ariaHasPopup:null,ariaHidden:xe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ue,ariaLevel:P,ariaLive:null,ariaModal:xe,ariaMultiLine:xe,ariaMultiSelectable:xe,ariaOrientation:null,ariaOwns:ue,ariaPlaceholder:null,ariaPosInSet:P,ariaPressed:xe,ariaReadOnly:xe,ariaRelevant:null,ariaRequired:xe,ariaRoleDescription:ue,ariaRowCount:P,ariaRowIndex:P,ariaRowSpan:P,ariaSelected:xe,ariaSetSize:P,ariaSort:null,ariaValueMax:P,ariaValueMin:P,ariaValueNow:P,ariaValueText:null,role:null}}),cc=Tt({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:xl,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:It,acceptCharset:ue,accessKey:ue,action:null,allow:null,allowFullScreen:J,allowPaymentRequest:J,allowUserMedia:J,alt:null,as:null,async:J,autoCapitalize:null,autoComplete:ue,autoFocus:J,autoPlay:J,blocking:ue,capture:null,charSet:null,checked:J,cite:null,className:ue,cols:P,colSpan:null,content:null,contentEditable:xe,controls:J,controlsList:ue,coords:P|It,crossOrigin:null,data:null,dateTime:null,decoding:null,default:J,defer:J,dir:null,dirName:null,disabled:J,download:pl,draggable:xe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:J,formTarget:null,headers:ue,height:P,hidden:J,high:P,href:null,hrefLang:null,htmlFor:ue,httpEquiv:ue,id:null,imageSizes:null,imageSrcSet:null,inert:J,inputMode:null,integrity:null,is:null,isMap:J,itemId:null,itemProp:ue,itemRef:ue,itemScope:J,itemType:ue,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:J,low:P,manifest:null,max:null,maxLength:P,media:null,method:null,min:null,minLength:P,multiple:J,muted:J,name:null,nonce:null,noModule:J,noValidate:J,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:J,optimum:P,pattern:null,ping:ue,placeholder:null,playsInline:J,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:J,referrerPolicy:null,rel:ue,required:J,reversed:J,rows:P,rowSpan:P,sandbox:ue,scope:null,scoped:J,seamless:J,selected:J,shadowRootClonable:J,shadowRootDelegatesFocus:J,shadowRootMode:null,shape:null,size:P,sizes:null,slot:null,span:P,spellCheck:xe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:P,step:null,style:null,tabIndex:P,target:null,title:null,translate:null,type:null,typeMustMatch:J,useMap:null,value:xe,width:P,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ue,axis:null,background:null,bgColor:null,border:P,borderColor:null,bottomMargin:P,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:J,declare:J,event:null,face:null,frame:null,frameBorder:null,hSpace:P,leftMargin:P,link:null,longDesc:null,lowSrc:null,marginHeight:P,marginWidth:P,noResize:J,noHref:J,noShade:J,noWrap:J,object:null,profile:null,prompt:null,rev:null,rightMargin:P,rules:null,scheme:null,scrolling:xe,standby:null,summary:null,text:null,topMargin:P,valueType:null,version:null,vAlign:null,vLink:null,vSpace:P,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:J,disableRemotePlayback:J,prefix:null,property:null,results:P,security:null,unselectable:null}}),dc=Tt({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:yl,properties:{about:Ie,accentHeight:P,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:P,amplitude:P,arabicForm:null,ascent:P,attributeName:null,attributeType:null,azimuth:P,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:P,by:null,calcMode:null,capHeight:P,className:ue,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:P,diffuseConstant:P,direction:null,display:null,dur:null,divisor:P,dominantBaseline:null,download:J,dx:null,dy:null,edgeMode:null,editable:null,elevation:P,enableBackground:null,end:null,event:null,exponent:P,externalResourcesRequired:null,fill:null,fillOpacity:P,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:It,g2:It,glyphName:It,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:P,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:P,horizOriginX:P,horizOriginY:P,id:null,ideographic:P,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:P,k:P,k1:P,k2:P,k3:P,k4:P,kernelMatrix:Ie,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:P,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:P,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:P,overlineThickness:P,paintOrder:null,panose1:null,path:null,pathLength:P,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ue,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:P,pointsAtY:P,pointsAtZ:P,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ie,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ie,rev:Ie,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ie,requiredFeatures:Ie,requiredFonts:Ie,requiredFormats:Ie,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:P,specularExponent:P,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:P,strikethroughThickness:P,string:null,stroke:null,strokeDashArray:Ie,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:P,strokeOpacity:P,strokeWidth:null,style:null,surfaceScale:P,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ie,tabIndex:P,tableValues:null,target:null,targetX:P,targetY:P,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ie,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:P,underlineThickness:P,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:P,values:null,vAlphabetic:P,vMathematical:P,vectorEffect:null,vHanging:P,vIdeographic:P,version:null,vertAdvY:P,vertOriginX:P,vertOriginY:P,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:P,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),fc=/^data[-\w.:]+$/i,Gr=/-[a-z]/g,hc=/[A-Z]/g;function pc(e,t){const n=Kn(t);let r=t,i=De;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&fc.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Gr,mc);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Gr.test(l)){let o=l.replace(hc,gc);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=dr}return new i(r,t)}function gc(e){return"-"+e.toLowerCase()}function mc(e){return e.charAt(1).toUpperCase()}const yc=hl([ml,gl,bl,wl,cc],"html"),xc=hl([ml,gl,bl,wl,dc],"svg");function Yr(e){if(e)throw e}function bc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kn,Qr;function wc(){if(Qr)return kn;Qr=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},l=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var h;for(h in u);return typeof h>"u"||e.call(u,h)},o=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return kn=function s(){var u,c,d,h,f,x,m=arguments[0],w=1,y=arguments.length,v=!1;for(typeof m=="boolean"&&(v=m,m=arguments[1]||{},w=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});w<y;++w)if(u=arguments[w],u!=null)for(c in u)d=a(m,c),h=a(u,c),m!==h&&(v&&h&&(l(h)||(f=i(h)))?(f?(f=!1,x=d&&i(d)?d:[]):x=d&&l(d)?d:{},o(m,{name:c,newValue:s(v,x,h)})):typeof h<"u"&&o(m,{name:c,newValue:h}));return m},kn}var kc=wc();const vn=bc(kc);function Gn(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function vc(){const e=[],t={run:n,use:r};return t;function n(...i){let l=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(s,...u){const c=e[++l];let d=-1;if(s){o(s);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?Sc(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Sc(e,t){let n;return r;function r(...o){const a=e.length>o.length;let s;a&&o.push(i);try{s=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(s&&s.then&&typeof s.then=="function"?s.then(l,i):s instanceof Error?i(s):l(s))}function i(o,...a){n||(n=!0,t(o,...a))}function l(o){i(null,o)}}class Ee extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",l={},o=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?i=t:!l.cause&&t&&(o=!0,i=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const s=r.indexOf(":");s===-1?l.ruleId=r:(l.source=r.slice(0,s),l.ruleId=r.slice(s+1))}if(!l.place&&l.ancestors&&l.ancestors){const s=l.ancestors[l.ancestors.length-1];s&&(l.place=s.position)}const a=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Ft(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=o&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ee.prototype.file="";Ee.prototype.name="";Ee.prototype.reason="";Ee.prototype.message="";Ee.prototype.stack="";Ee.prototype.column=void 0;Ee.prototype.line=void 0;Ee.prototype.ancestors=void 0;Ee.prototype.cause=void 0;Ee.prototype.fatal=void 0;Ee.prototype.place=void 0;Ee.prototype.ruleId=void 0;Ee.prototype.source=void 0;const Be={basename:Cc,dirname:$c,extname:Ec,join:Ac,sep:"/"};function Cc(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Kt(e);let n=0,r=-1,i=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else r<0&&(l=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(l){n=i+1;break}}else o<0&&(l=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function $c(e){if(Kt(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Ec(e){Kt(e);let t=e.length,n=-1,r=0,i=-1,l=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:l!==1&&(l=1):i>-1&&(l=-1)}return i<0||n<0||l===0||l===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Ac(...e){let t=-1,n;for(;++t<e.length;)Kt(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Ic(n)}function Ic(e){Kt(e);const t=e.codePointAt(0)===47;let n=Pc(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Pc(e,t){let n="",r=0,i=-1,l=0,o=-1,a,s;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||l===1))if(i!==o-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(s=n.lastIndexOf("/"),s!==n.length-1){s<0?(n="",r=0):(n=n.slice(0,s),r=n.length-1-n.lastIndexOf("/")),i=o,l=0;continue}}else if(n.length>0){n="",r=0,i=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,l=0}else a===46&&l>-1?l++:l=-1}return n}function Kt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const _c={cwd:Tc};function Tc(){return"/"}function Yn(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Mc(e){if(typeof e=="string")e=new URL(e);else if(!Yn(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Lc(e)}function Lc(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Sn=["history","path","basename","stem","extname","dirname"];class kl{constructor(t){let n;t?Yn(t)?n={path:t}:typeof t=="string"||Oc(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":_c.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Sn.length;){const l=Sn[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let i;for(i in n)Sn.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Be.basename(this.path):void 0}set basename(t){$n(t,"basename"),Cn(t,"basename"),this.path=Be.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Be.dirname(this.path):void 0}set dirname(t){Zr(this.basename,"dirname"),this.path=Be.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Be.extname(this.path):void 0}set extname(t){if(Cn(t,"extname"),Zr(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Be.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Yn(t)&&(t=Mc(t)),$n(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Be.basename(this.path,this.extname):void 0}set stem(t){$n(t,"stem"),Cn(t,"stem"),this.path=Be.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ee(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Cn(e,t){if(e&&e.includes(Be.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Be.sep+"`")}function $n(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Zr(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Oc(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Dc=(function(e){const r=this.constructor.prototype,i=r[e],l=function(){return i.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),Rc={}.hasOwnProperty;class fr extends Dc{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=vc()}copy(){const t=new fr;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(vn(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(In("data",this.frozen),this.namespace[t]=n,this):Rc.call(this.namespace,t)&&this.namespace[t]||void 0:t?(In("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Qt(t),r=this.parser||this.Parser;return En("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),En("process",this.parser||this.Parser),An("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(l,o){const a=Qt(t),s=r.parse(a);r.run(s,a,function(c,d,h){if(c||!d||!h)return u(c);const f=d,x=r.stringify(f,h);Nc(x)?h.value=x:h.result=x,u(c,h)});function u(c,d){c||!d?o(c):l?l(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),En("processSync",this.parser||this.Parser),An("processSync",this.compiler||this.Compiler),this.process(t,i),Jr("processSync","process",n),r;function i(l,o){n=!0,Yr(l),r=o}}run(t,n,r){Xr(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(o,a){const s=Qt(n);i.run(t,s,u);function u(c,d,h){const f=d||t;c?a(c):o?o(f):r(void 0,f,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,l),Jr("runSync","run",r),i;function l(o,a){Yr(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=Qt(n),i=this.compiler||this.Compiler;return An("stringify",i),Xr(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(In("use",this.frozen),t!=null)if(typeof t=="function")s(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(u){if(typeof u=="function")s(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;s(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=vn(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];l(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function s(u,c){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...c]);else if(c.length>0){let[f,...x]=c;const m=r[h][1];Gn(m)&&Gn(f)&&(f=vn(!0,m,f)),r[h]=[u,f,...x]}}}}const zc=new fr().freeze();function En(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function An(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function In(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Xr(e){if(!Gn(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Jr(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Qt(e){return Fc(e)?e:new kl(e)}function Fc(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Nc(e){return typeof e=="string"||Bc(e)}function Bc(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jc=(function(e){return Uc(e)});function Uc(e){return Vc(t);function t(n){return n&&n.type===e}}function Vc(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}const Hc=!0,ei=!1,qc="skip",Kc=(function(e,t,n,r){const i=jc(t),l=1;o(e,void 0,[])();function o(a,s,u){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const h=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(a.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=[],f,x,m;if(i(a,s,u[u.length-1]||null)&&(h=Wc(n(a,u)),h[0]===ei))return h;if(a.children&&h[0]!==qc)for(x=-1+l,m=u.concat(a);x>-1&&x<a.children.length;){if(f=o(a.children[x],x,m)(),f[0]===ei)return f;x=typeof f[1]=="number"?f[1]:x+l}return h}}});function Wc(e){return Array.isArray(e)?e:typeof e=="number"?[Hc,e]:[e]}const Gc=(function(e,t,n,r){Kc(e,t,i);function i(l,o){const a=o[o.length-1];return n(l,a?a.children.indexOf(l):null,a)}});function Yc(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function Qc(e){return e.join(" ").trim()}var Zc=F("<div>"),Xc=e=>{if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{Gc(t,"element",(n,r,i)=>{const l=i;if(l===null)return;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&l&&(o=!e.allowElement(n,r,l)),o&&typeof r=="number"&&l)return e.unwrapDisallowed&&n.children?l.children.splice(r,1,...n.children):l.children.splice(r,1),r})}},Jc=Xc;function ed(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n?.type==="element"&&n?.tagName==="input")return n}return null}function Pn(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n]?.type==="element"&&r++;return r}function td(e,t,n,r){const i=pc(r.schema,t);let l=n;i.property==="className"&&(i.property="class"),!(l==null||l!==l)&&(Array.isArray(l)&&(l=i.commaSeparated?Yc(l):Qc(l)),i.space&&i.property?e[i.property]=l:i.attribute&&(e[i.attribute]=l))}function vl(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(t=>String(t)).join("")}var Qn={}.hasOwnProperty,nd=e=>C(Sl,{get node(){return e.node},get context(){return e.context}}),Sl=e=>C(et,{get each(){return e.node.children},children:(t,n)=>C(Bl,{get children(){return[C(mr,{get when(){return t.type==="element"},get children(){return C(id,{get context(){return e.context},get index(){return n()},node:t,get parent(){return e.node}})}}),C(mr,{get when(){return Le(()=>t.type==="text")()&&t.value!==`
`},get children(){return C(rd,{get context(){return e.context},get index(){return n()},node:t,get parent(){return e.node}})}})]}})}),rd=e=>{const t=ae(()=>{const n={...e.context},r=n.options,i=e.node,o={parent:e.parent},a=i.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},s=r.components&&Qn.call(r.components,"text")?r.components.text:null,u=typeof s=="string";return o.key=["text",a.start.line,a.start.column,e.index].join("-"),r.sourcePos&&(o["data-sourcepos"]=vl(a)),!u&&r.rawSourcePos&&(o.sourcePosition=i.position),u||(o.node=i),{properties:o,context:n,component:s}});return C(U,{get when(){return t().component},get fallback(){return e.node.value},get children(){return C(Pi,mt({get component(){return t().component||"span"}},()=>t().properties))}})},id=e=>{const t=ae(()=>{const n={...e.context},r=n.options,i=n.schema,l=e.node,o=l.tagName,a=e.parent,s={};let u=i,c;if(i.space==="html"&&o==="svg"&&(u=xc,n.schema=u),l.properties)for(c in l.properties)Qn.call(l.properties,c)&&td(s,c,l.properties[c],n);(o==="ol"||o==="ul")&&n.listDepth++,(o==="ol"||o==="ul")&&n.listDepth--,n.schema=i;const d=l.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=r.components&&Qn.call(r.components,o)?r.components[o]:o,f=typeof h=="string";if(s.key=[o,d.start.line,d.start.column,e.index].join("-"),o==="a"&&r.linkTarget&&(s.target=typeof r.linkTarget=="function"?r.linkTarget(String(s.href||""),l.children,typeof s.title=="string"?s.title:void 0):r.linkTarget),o==="a"&&r.transformLinkUri&&(s.href=r.transformLinkUri(String(s.href||""),l.children,typeof s.title=="string"?s.title:void 0)),!f&&o==="code"&&a.type==="element"&&a.tagName!=="pre"&&(s.inline=!0),!f&&(o==="h1"||o==="h2"||o==="h3"||o==="h4"||o==="h5"||o==="h6")&&(s.level=Number.parseInt(o.charAt(1),10)),o==="img"&&r.transformImageUri&&(s.src=r.transformImageUri(String(s.src||""),String(s.alt||""),typeof s.title=="string"?s.title:void 0)),!f&&o==="li"&&a.type==="element"){const x=ed(l);s.checked=x?.properties?!!x.properties.checked:null,s.index=Pn(a,l),s.ordered=a.tagName==="ol"}return!f&&(o==="ol"||o==="ul")&&(s.ordered=o==="ol",s.depth=n.listDepth),(o==="td"||o==="th")&&(s.align&&(s.style||(s.style={}),s.style.textAlign=s.align,delete s.align),f||(s.isHeader=o==="th")),!f&&o==="tr"&&a.type==="element"&&(s.isHeader=a.tagName==="thead"),r.sourcePos&&(s["data-sourcepos"]=vl(d)),!f&&r.rawSourcePos&&(s.sourcePosition=l.position),!f&&r.includeElementIndex&&(s.index=Pn(a,l),s.siblingCount=Pn(a)),f||(s.node=l),{properties:s,context:n,component:h}});return C(Pi,mt({get component(){return t().component}},()=>t().properties,{get children(){return C(Sl,{get node(){return e.node},get context(){return t().context}})}}))},ld={renderingStrategy:"memo",remarkPlugins:[],rehypePlugins:[],class:"",unwrapDisallowed:!1,disallowedElements:void 0,allowedElements:void 0,allowElement:void 0,children:"",sourcePos:!1,rawSourcePos:!1,skipHtml:!1,includeElementIndex:!1,transformLinkUri:null,transformImageUri:void 0,linkTarget:"_self",components:{}},ti=e=>{const t=mt(ld,e),[n,r]=jo({type:"root",children:[]}),i=ae(()=>{const l=t.children,o=zc().use(cu).use(t.remarkPlugins||[]).use(ac,{allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(Jc,t),a=new kl;typeof l=="string"?a.value=l:l!==void 0&&t.children;const s=o.runSync(o.parse(a),a);if(s.type!=="root")throw new TypeError("Expected a `root` node");return s});return t.renderingStrategy==="reconcile"&&ne(()=>{r(Uo(i()))}),(()=>{var l=Zc();return T(l,C(nd,{context:{options:t,schema:yc,listDepth:0},get node(){return Le(()=>t.renderingStrategy==="memo")()?i():n}})),ne(()=>pe(l,t.class)),l})()};const[Cl,hr]=H({});function vt(){hr({})}function ni(e){hr(t=>{const n={...t};return delete n[e],n})}var od=F('<div class="absolute top-full left-0 mt-1 w-80 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto">'),ad=F('<div class="fixed z-[100] w-56"><div class="absolute left-0 top-4 -translate-x-full"><div class="w-0 h-0 border-t-[8px] border-t-transparent border-b-[8px] border-b-transparent border-r-[8px] border-r-amber-100 dark:border-r-amber-800"></div></div><div class="bg-amber-50 dark:bg-amber-900 border border-amber-200 dark:border-amber-700 rounded-lg shadow-xl px-3 py-2.5 text-xs"><div class="font-semibold text-amber-800 dark:text-amber-200 mb-2 flex items-center justify-between"><span> key needed</span><button class="text-amber-500 hover:text-amber-700 dark:hover:text-amber-300 p-0.5"><svg class="w-3.5 h-3.5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><ol class="list-decimal list-inside space-y-1.5 text-gray-700 dark:text-gray-300"><li><button class="text-blue-600 dark:text-blue-400 hover:underline">Get free key</button></li><li><button class="text-blue-600 dark:text-blue-400 hover:underline">Open Settings</button> â paste â Save'),sd=F('<span class="px-1.5 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 whitespace-nowrap">'),ud=F('<span class="px-1.5 py-0.5 bg-gray-50 dark:bg-gray-800 text-gray-500 dark:text-gray-400 whitespace-nowrap">'),cd=F('<div class="flex items-center flex-shrink-0 text-[10px] rounded-full overflow-hidden border border-gray-200 dark:border-gray-700"title="Time to first token | Total response time">'),dd=F('<button class="p-1 rounded text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"title="Remove pane"><svg class="w-3.5 h-3.5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),fd=F('<div class="fixed inset-0 z-40">'),hd=F('<div class="flex items-center gap-2 py-2"><svg class="w-4 h-4 animate-spin text-gray-400"fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor strokeWidth=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span class="text-sm text-gray-400">Thinking...'),pd=F('<div class="text-sm text-red-600 dark:text-red-400 py-1 px-2 bg-red-50 dark:bg-red-900/20 rounded">'),gd=F("<span class=cursor-blink>|"),md=F('<div class="prose prose-sm dark:prose-invert max-w-none text-gray-900 dark:text-gray-100">'),yd=F('<div class="text-sm text-gray-400 dark:text-gray-500 italic text-center py-8">Start typing to compare responses'),xd=F('<div><button title=Copy class="p-1.5 rounded text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path strokeLinecap=round strokeLinejoin=round strokeWidth=2 d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">'),bd=F('<div class="flex flex-col h-full"><div class="flex items-center gap-1 px-3 py-2 border-b border-gray-100 dark:border-gray-800 overflow-hidden"><span></span><div class="relative min-w-0 flex-1"><button class="flex items-center gap-1 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"><span class="truncate max-w-[120px]"></span><svg class="w-3 h-3 flex-shrink-0 opacity-50"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></button></div></div><div class="flex-1 min-h-0 overflow-y-auto px-3 py-2 space-y-3">'),wd=F('<button><span class="flex-1 truncate"></span><span class="text-xs text-gray-500">'),kd=F('<div class="text-sm bg-accent/10 text-gray-800 dark:text-gray-200 rounded-lg px-3 py-2 prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-headings:my-2">');async function vd(e){try{const{open:t}=await rr(async()=>{const{open:n}=await import("@tauri-apps/plugin-shell");return{open:n}},[]);await t(e)}catch{window.open(e,"_blank","noopener,noreferrer")}}function Sd(e){const[t,n]=H(!1),[r,i]=H(!1),[l,o]=H(null),a=()=>{const b=e.model?.id,I=Cl(),D=I[b]||{};return e.hasMessages&&!D.loading&&!D.content&&console.log("[ComparisonPane] Waiting state - modelId:",b,"all keys:",Object.keys(I),"resp:",D),D},s=()=>!!a().content,u=()=>a().loading,c=()=>!!a().error;function d(b){return b==="ollama"?"ollama":b==="open_code_zen"?"openCodeZen":b==="openrouter"||b==="open_router"?"openRouter":null}function h(b){return b==="ollama"?"Local":b==="open_code_zen"?"Zen":"OR"}function f(b){return b==="ollama"?!0:e.configuredProviders?.[d(b)]??!1}function x(b){return b==="open_code_zen"?"https://zen.opencode.ai":"https://openrouter.ai/keys"}function m(b){return b==="open_code_zen"?"OpenCode Zen":"OpenRouter"}async function w(){if(a().content)try{await navigator.clipboard.writeText(a().content)}catch(b){console.error("Failed to copy:",b)}}function y(b,I,D){if(!f(I.source)){const k=D.currentTarget.getBoundingClientRect();o({source:I.source,providerId:I.id,rect:k});return}o(null),e.onModelChange?.({id:I.id,name:b.name,source:I.source}),i(!1)}function v(){i(!1),o(null)}return(()=>{var b=bd(),I=b.firstChild,D=I.firstChild,k=D.nextSibling,V=k.firstChild,X=V.firstChild,q=I.nextSibling;return b.addEventListener("mouseleave",()=>n(!1)),b.addEventListener("mouseenter",()=>n(!0)),V.$$click=()=>i(!r()),T(X,()=>e.model?.name||"Select model"),T(k,C(U,{get when(){return r()},get children(){return[(()=>{var A=od();return T(A,C(et,{get each(){return e.availableModels||[]},children:_=>C(et,{get each(){return _.providers},children:L=>{const Q=f(L.source),N=e.model?.id===L.id,R=!N&&(e.selectedModelIds||[]).includes(L.id),O=()=>l()?.providerId===L.id;return(()=>{var B=wd(),K=B.firstChild,ee=K.nextSibling;return B.$$click=p=>!R&&y(_,L,p),Ue(B,"title",R?"Already selected":Q?void 0:"API key required"),T(K,()=>_.name),T(ee,()=>h(L.source)),ne(()=>pe(B,`group w-full text-left px-3 py-1.5 text-xs tracking-tight flex items-center gap-2 ${N?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":R?"text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-40":Q?"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300":O()?"bg-amber-50 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200":"text-gray-400 dark:text-gray-600 cursor-pointer opacity-50 hover:opacity-70"}`)),B})()}})})),A})(),C(U,{get when(){return l()},get children(){return C(ao,{get children(){var A=ad(),_=A.firstChild,L=_.nextSibling,Q=L.firstChild,N=Q.firstChild,R=N.firstChild,O=N.nextSibling,B=Q.nextSibling,K=B.firstChild,ee=K.firstChild,p=K.nextSibling,de=p.firstChild;return T(N,()=>m(l()?.source),R),O.$$click=re=>{re.stopPropagation(),o(null)},ee.$$click=re=>{re.stopPropagation(),vd(x(l()?.source))},de.$$click=re=>{re.stopPropagation(),v(),e.onOpenSettings?.(l()?.source)},ne(re=>{var g=`${l().rect.right+8}px`,be=`${l().rect.top-4}px`;return g!==re.e&&jt(A,"left",re.e=g),be!==re.t&&jt(A,"top",re.t=be),re},{e:void 0,t:void 0}),A}})}})]}}),null),T(I,C(U,{get when(){return Le(()=>!u())()&&(a().responseTimeMs||a().ttftMs)},get children(){var A=cd();return T(A,C(U,{get when(){return a().ttftMs},get children(){var _=sd();return T(_,(()=>{var L=Le(()=>a().ttftMs>=1e3);return()=>L()?`${(a().ttftMs/1e3).toFixed(1)}s`:`${a().ttftMs}ms`})()),_}}),null),T(A,C(U,{get when(){return a().responseTimeMs},get children(){var _=ud();return T(_,(()=>{var L=Le(()=>a().responseTimeMs>=1e3);return()=>L()?`${(a().responseTimeMs/1e3).toFixed(1)}s`:`${a().responseTimeMs}ms`})()),_}}),null),A}}),null),T(I,C(U,{get when(){return e.canRemove},get children(){var A=dd();return nt(A,"click",e.onRemove,!0),A}}),null),T(b,C(U,{get when(){return r()},get children(){var A=fd();return A.$$click=v,A}}),q),T(q,C(et,{get each(){return e.userMessages||[]},children:A=>(()=>{var _=kd();return T(_,C(ti,{get children(){return A.content}})),_})()}),null),T(q,C(U,{get when(){return Le(()=>!!u())()&&!s()},get children(){return hd()}}),null),T(q,C(U,{get when(){return c()},get children(){var A=pd();return T(A,()=>a().error),A}}),null),T(q,C(U,{get when(){return s()},get children(){var A=md();return T(A,C(ti,{get children(){return a().content}}),null),T(A,C(U,{get when(){return u()},get children(){return gd()}}),null),A}}),null),T(q,C(U,{get when(){return Le(()=>!e.userMessages?.length&&!u()&&!c())()&&!s()},get children(){return yd()}}),null),T(b,C(U,{get when(){return Le(()=>!!s())()&&!u()},get children(){var A=xd(),_=A.firstChild;return _.$$click=w,ne(()=>pe(A,`flex justify-end px-3 pb-2 transition-opacity ${t()?"opacity-100":"opacity-0"}`)),A}}),null),ne(()=>pe(D,`w-2 h-2 rounded-full ${e.colorDot} flex-shrink-0`)),b})()}He(["click"]);var Cd=F('<div class="chat-view-container flex-1 flex flex-col overflow-hidden">'),ri=F('<div class="w-px bg-gray-200 dark:bg-gray-700 flex-shrink-0">'),$d=F('<button class="w-12 flex-shrink-0 flex flex-col items-center justify-center gap-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"title="Add comparison pane"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v16m8-8H4"></path></svg><span class=text-xs>Add'),Ed=F('<div class="flex-1 flex message-enter min-h-0">'),Ad=F('<div class="flex-1 min-w-0 flex flex-col min-h-0">');function Id(e){function t(){return Object.keys(Cl()).length>0}const n=()=>e.messages.filter(r=>r.role==="user");return(()=>{var r=Cd();return T(r,C(Pd,{get selectedModels(){return e.selectedModels},get availableModels(){return e.availableModels},get onModelChange(){return e.onModelChange},get onAddPane(){return e.onAddPane},get onRemovePane(){return e.onRemovePane},get maxPanes(){return e.maxPanes},get configuredProviders(){return e.configuredProviders},get userMessages(){return n()},get hasMessages(){return e.messages.length>0||t()},get onOpenSettings(){return e.onOpenSettings}})),r})()}function Pd(e){const t=()=>e.selectedModels?.length||0,n=()=>e.maxPanes||3,r=()=>t()<n(),i=()=>t()>1,l=["bg-blue-500","bg-purple-500","bg-green-500"];return(()=>{var o=Ed();return T(o,C(et,{get each(){return e.selectedModels},children:(a,s)=>[(()=>{var u=Ad();return T(u,C(Sd,{model:a,get colorDot(){return l[s()%l.length]},get availableModels(){return e.availableModels},get configuredProviders(){return e.configuredProviders},get selectedModelIds(){return e.selectedModels?.map(c=>c.id)||[]},onModelChange:c=>e.onModelChange?.(s(),c),onRemove:()=>e.onRemovePane?.(s()),get canRemove(){return i()},get userMessages(){return e.userMessages},get hasMessages(){return e.hasMessages},get onOpenSettings(){return e.onOpenSettings}})),u})(),C(U,{get when(){return s()<t()-1},get children(){return ri()}})]}),null),T(o,C(U,{get when(){return r()},get children(){return[ri(),(()=>{var a=$d();return nt(a,"click",e.onAddPane,!0),a})()]}}),null),o})()}He(["click"]);var _d=F('<div class="mb-2 px-3 py-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"><p class="text-sm text-red-600 dark:text-red-400">'),Td=F('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13">'),Md=F('<button type=submit><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 10l7-7m0 0l7 7m-7-7v18">'),Ld=F('<span class="text-xs text-gray-400"><kbd class="px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-700 font-mono">Enter</kbd> to send Â· <kbd class="px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-700 font-mono">Shift+Enter</kbd> for newline'),Od=F('<div><div class="max-w-3xl mx-auto"><form class=relative><input type=file accept=.pdf,.docx,.txt,.md class=hidden><div><button type=button></button><textarea rows=1 class="flex-1 py-3 pr-3 bg-transparent resize-none outline-none text-gray-900 dark:text-gray-100 placeholder-gray-400 text-sm max-h-48 disabled:cursor-not-allowed"></textarea></div><div class="mt-2 text-center">'),Dd=F('<svg class="w-5 h-5 animate-spin"fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),Rd=F('<button type=button class="m-1.5 p-1.5 rounded-md bg-red-500 hover:bg-red-600 text-white transition-colors"title=Stop><svg class="w-4 h-4"fill=currentColor viewBox="0 0 24 24"><rect x=6 y=6 width=12 height=12 rx=1>'),zd=F('<span class="text-xs text-amber-600 dark:text-amber-400">'),Fd=F('<span class="text-xs text-accent">Processing document...');function Nd(e){const[t,n]=H(""),[r,i]=H(!1),[l,o]=H(null);let a,s;const u=()=>e.isStreaming||e.disabled||r();function c(w){w?.preventDefault();const y=t().trim();y&&!u()&&(e.onSend(y),n(""),a&&(a.style.height="auto"))}function d(w){w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),c())}function h(w){n(w.target.value),w.target.style.height="auto",w.target.style.height=Math.min(w.target.scrollHeight,200)+"px"}function f(){s&&!u()&&s.click()}async function x(w){const y=w.target.files?.[0];if(!y)return;const v=[".pdf",".docx",".txt",".md"],b="."+y.name.split(".").pop().toLowerCase();if(!v.includes(b)){o(`Unsupported file type. Allowed: ${v.join(", ")}`),setTimeout(()=>o(null),5e3),w.target.value="";return}const I=10*1024*1024;if(y.size>I){o("File too large. Maximum size is 10MB."),setTimeout(()=>o(null),5e3),w.target.value="";return}if(e.onUpload){i(!0),o(null);try{await e.onUpload(y)}catch(D){o(D.message||"Upload failed"),setTimeout(()=>o(null),5e3)}finally{i(!1),w.target.value=""}}}function m(){return e.disabled&&!e.placeholder?"No models available...":r()?"Uploading document...":e.placeholder?e.placeholder:"Message..."}return(()=>{var w=Od(),y=w.firstChild,v=y.firstChild,b=v.firstChild,I=b.nextSibling,D=I.firstChild,k=D.nextSibling,V=I.nextSibling;T(y,C(U,{get when(){return l()},get children(){var A=_d(),_=A.firstChild;return T(_,l),A}}),v),v.addEventListener("submit",c),b.addEventListener("change",x);var X=s;typeof X=="function"?gt(X,b):s=b,D.$$click=f,T(D,C(U,{get when(){return!r()},get fallback(){return Dd()},get children(){return Td()}})),k.$$keydown=d,k.$$input=h;var q=a;return typeof q=="function"?gt(q,k):a=k,T(I,C(U,{get when(){return!e.isStreaming},get fallback(){return(()=>{var A=Rd();return nt(A,"click",e.onStop,!0),A})()},get children(){var A=Md();return ne(_=>{var L=!t().trim()||u(),Q=`m-1.5 p-1.5 rounded-md transition-colors ${t().trim()&&!u()?"bg-accent hover:bg-accent-hover text-white":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"}`,N=e.disabled?"No models available":"Send (Enter)";return L!==_.e&&(A.disabled=_.e=L),Q!==_.t&&pe(A,_.t=Q),N!==_.a&&Ue(A,"title",_.a=N),_},{e:void 0,t:void 0,a:void 0}),A}}),null),T(V,C(U,{get when(){return!e.disabled},get fallback(){return(()=>{var A=zd();return T(A,()=>e.placeholder||"Messaging disabled - no AI models available"),A})()},get children(){return C(U,{get when(){return!r()},get fallback(){return Fd()},get children(){return Ld()}})}})),ne(A=>{var _=`border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 ${e.disabled?"opacity-60":""}`,L=`flex items-end gap-2 bg-gray-50 dark:bg-gray-900 rounded-xl border ${e.disabled?"border-gray-300 dark:border-gray-600":"border-gray-200 dark:border-gray-700 focus-within:border-accent focus-within:ring-1 focus-within:ring-accent"}`,Q=`p-3 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${r()?"text-accent animate-pulse":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,N=r()?"Uploading...":"Attach file (PDF, DOCX, TXT)",R=u(),O=m(),B=u();return _!==A.e&&pe(w,A.e=_),L!==A.t&&pe(I,A.t=L),Q!==A.a&&pe(D,A.a=Q),N!==A.o&&Ue(D,"title",A.o=N),R!==A.i&&(D.disabled=A.i=R),O!==A.n&&Ue(k,"placeholder",A.n=O),B!==A.s&&(k.disabled=A.s=B),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),ne(()=>k.value=t()),w})()}He(["click","input","keydown"]);var Bd=F('<svg class="w-3.5 h-3.5 animate-spin"fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),jd=F("<span>Validating..."),Ud=F('<svg class="w-3.5 h-3.5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 13l4 4L19 7">'),ii=F("<span>"),Vd=F('<svg class="w-3.5 h-3.5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">'),Hd=F("<div>"),qd=F("<input type=text placeholder=sk-or-v1-...>"),li=F('<svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21">'),oi=F('<button type=button class="absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded hover:bg-gray-100 dark:hover:bg-gray-600">'),ai=F('<button class="px-3 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg">Clear'),Kd=F("<input type=text placeholder=sk-...>"),Wd=F('<span class="text-sm text-green-600 dark:text-green-400 flex items-center gap-1"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 13l4 4L19 7"></path></svg>Settings saved'),Gd=F('<span class="text-sm text-amber-600 dark:text-amber-400">'),Yd=F('<div class="p-6 max-w-2xl mx-auto"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-6">Settings</h2><div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>Appearance</h3><div class="flex gap-3"><button><div class="flex flex-col items-center gap-2"><svg class="w-6 h-6 text-gray-600 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg><span class="text-sm font-medium text-gray-700 dark:text-gray-300">System</span></div></button><button><div class="flex flex-col items-center gap-2"><svg class="w-6 h-6 text-yellow-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Light</span></div></button><button><div class="flex flex-col items-center gap-2"><svg class="w-6 h-6 text-indigo-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Dark</span></div></button></div></div><div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path></svg>API Keys</h3><p class="text-sm text-gray-600 dark:text-gray-400 mb-6">Configure API keys to access AI models. Keys are validated before saving and stored locally.</p><div class=mb-6><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">OpenRouter API Key</label><p class="text-xs text-gray-500 dark:text-gray-400 mb-2">Get your key at <button class="text-blue-600 dark:text-blue-400 hover:underline">openrouter.ai/keys</button></p><div class="flex gap-2"><div class="flex-1 relative"></div></div></div><div class=mb-6><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">OpenCode Zen API Key</label><p class="text-xs text-gray-500 dark:text-gray-400 mb-2">Get your key at <button class="text-blue-600 dark:text-blue-400 hover:underline">zen.opencode.ai</button></p><div class="flex gap-2"><div class="flex-1 relative"></div></div></div><div class="flex items-center gap-4"><button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white text-sm font-medium rounded-lg transition-colors"></button></div></div><div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-4">About MultiAI</h3><p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Compare answers from multiple free AI models side by side. No subscriptions, no limits.</p><div class="text-xs text-gray-500 dark:text-gray-400 mb-4">Version 0.0.1</div><div class="pt-4 border-t border-gray-200 dark:border-gray-700"><button class="flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 transition-colors"><img src=/security-ronin-logo.png alt="Security Ronin"class="h-8 w-auto"><span>A Security Ronin production'),Qd=F("<input type=password placeholder=sk-or-v1-...>"),si=F('<svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z">'),Zd=F("<input type=password placeholder=sk-...>");async function _n(e){try{const{open:t}=await rr(async()=>{const{open:n}=await import("@tauri-apps/plugin-shell");return{open:n}},[]);await t(e)}catch{window.open(e,"_blank","noopener,noreferrer")}}const ie={IDLE:"idle",VALIDATING:"validating",SUCCESS:"success",ERROR:"error"};function Xd(e){const[t,n]=H(""),[r,i]=H(""),[l,o]=H(!1),[a,s]=H(!1),[u,c]=H(null),[d,h]=H(!1),[f,x]=H(!1),[m,w]=H(localStorage.getItem("theme")||"system");let y,v;const[b,I]=H({state:ie.IDLE,message:null}),[D,k]=H({state:ie.IDLE,message:null}),V=O=>O&&O.includes("â¢â¢â¢â¢"),X=O=>O&&!V(O);tn(async()=>{try{const O=await fetch("/api/settings");if(O.ok){const B=await O.json();B.openrouter_configured&&n("â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢"),B.opencode_zen_configured&&i("â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢â¢")}}catch(O){console.error("Failed to load settings:",O)}setTimeout(()=>{e.focusField==="openrouter"||e.focusField==="open_router"?(y?.focus(),y?.scrollIntoView({behavior:"smooth",block:"center"})):(e.focusField==="opencode_zen"||e.focusField==="open_code_zen")&&(v?.focus(),v?.scrollIntoView({behavior:"smooth",block:"center"}))},100)});async function q(O,B){const K=O==="openrouter"?"https://openrouter.ai/api/v1/models":"https://zen.opencode.ai/v1/models";try{const ee=await fetch(K,{method:"GET",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},signal:AbortSignal.timeout(1e4)});return ee.ok?{valid:!0,message:"API key is valid"}:ee.status===401||ee.status===403?{valid:!1,message:"Invalid API key"}:{valid:!1,message:`Validation failed (${ee.status})`}}catch(ee){return ee.name==="TimeoutError"?{valid:!1,message:"Validation timed out - key may still work"}:{valid:!1,message:"Could not verify - network error"}}}async function A(){o(!0),c(null),s(!1);const O={};let B=!1;if(X(t())){I({state:ie.VALIDATING,message:null});const K=await q("openrouter",t());K.valid?(I({state:ie.SUCCESS,message:K.message}),O.openrouter_api_key=t()):(I({state:ie.ERROR,message:K.message}),B=!0,O.openrouter_api_key=t())}else t()===""&&(O.openrouter_api_key="");if(X(r())){k({state:ie.VALIDATING,message:null});const K=await q("opencode_zen",r());K.valid?(k({state:ie.SUCCESS,message:K.message}),O.opencode_zen_api_key=r()):(k({state:ie.ERROR,message:K.message}),B=!0,O.opencode_zen_api_key=r())}else r()===""&&(O.opencode_zen_api_key="");if(Object.keys(O).length===0){o(!1);return}try{const K=await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(K.ok)s(!0),B&&c("Saved with validation warnings - keys may not work correctly"),setTimeout(()=>{s(!1),c(null)},3e3),e.onSettingsChanged?.();else{const ee=await K.json();c(ee.error||"Failed to save settings")}}catch(K){c(K.message)}finally{o(!1)}}function _(O){O==="openrouter"?(n(""),I({state:ie.IDLE,message:null})):(i(""),k({state:ie.IDLE,message:null}))}function L(O,B){O==="openrouter"?(n(B),b().state!==ie.IDLE&&I({state:ie.IDLE,message:null})):(i(B),D().state!==ie.IDLE&&k({state:ie.IDLE,message:null}))}function Q(O){w(O),localStorage.setItem("theme",O),N(O),e.onThemeChange?.(O)}function N(O){const B=document.documentElement;if(B.classList.remove("light","dark"),O==="system"){const K=window.matchMedia("(prefers-color-scheme: dark)").matches;B.classList.add(K?"dark":"light")}else B.classList.add(O)}tn(()=>{N(m())});function R(O){const{validation:B}=O;return C(U,{get when(){return B.state!==ie.IDLE},get children(){var K=Hd();return T(K,C(U,{get when(){return B.state===ie.VALIDATING},get children(){return[Bd(),jd()]}}),null),T(K,C(U,{get when(){return B.state===ie.SUCCESS},get children(){return[Ud(),(()=>{var ee=ii();return T(ee,()=>B.message),ee})()]}}),null),T(K,C(U,{get when(){return B.state===ie.ERROR},get children(){return[Vd(),(()=>{var ee=ii();return T(ee,()=>B.message),ee})()]}}),null),ne(()=>pe(K,`flex items-center gap-1.5 mt-1.5 text-xs ${B.state===ie.VALIDATING?"text-blue-600 dark:text-blue-400":B.state===ie.SUCCESS?"text-green-600 dark:text-green-400":"text-amber-600 dark:text-amber-400"}`)),K}})}return(()=>{var O=Yd(),B=O.firstChild,K=B.nextSibling,ee=K.firstChild,p=ee.nextSibling,de=p.firstChild,re=de.nextSibling,g=re.nextSibling,be=K.nextSibling,Ae=be.firstChild,ye=Ae.nextSibling,Re=ye.nextSibling,me=Re.firstChild,ze=me.nextSibling,we=ze.firstChild,qe=we.nextSibling,xt=ze.nextSibling,at=xt.firstChild,Qe=Re.nextSibling,st=Qe.firstChild,Ke=st.nextSibling,ut=Ke.firstChild,bt=ut.nextSibling,Ze=Ke.nextSibling,We=Ze.firstChild,ct=Qe.nextSibling,dt=ct.firstChild,Mt=be.nextSibling,_e=Mt.firstChild,ft=_e.nextSibling,S=ft.nextSibling,M=S.nextSibling,G=M.firstChild;return de.$$click=()=>Q("system"),re.$$click=()=>Q("light"),g.$$click=()=>Q("dark"),qe.$$click=()=>_n("https://openrouter.ai/keys"),T(at,C(U,{get when(){return d()},get fallback(){return(()=>{var E=Qd();E.$$input=fe=>L("openrouter",fe.target.value);var Z=y;return typeof Z=="function"?gt(Z,E):y=E,ne(()=>pe(E,`w-full px-3 py-2 pr-10 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b().state===ie.ERROR?"border-amber-400 dark:border-amber-500":b().state===ie.SUCCESS?"border-green-400 dark:border-green-500":"border-gray-300 dark:border-gray-600"}`)),ne(()=>E.value=t()),E})()},get children(){var E=qd();E.$$input=fe=>L("openrouter",fe.target.value);var Z=y;return typeof Z=="function"?gt(Z,E):y=E,ne(()=>pe(E,`w-full px-3 py-2 pr-10 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b().state===ie.ERROR?"border-amber-400 dark:border-amber-500":b().state===ie.SUCCESS?"border-green-400 dark:border-green-500":"border-gray-300 dark:border-gray-600"}`)),ne(()=>E.value=t()),E}}),null),T(at,C(U,{get when(){return Le(()=>!!t())()&&!V(t())},get children(){var E=oi();return E.$$click=()=>h(!d()),T(E,C(U,{get when(){return d()},get fallback(){return si()},get children(){return li()}})),ne(()=>Ue(E,"title",d()?"Hide key":"Show key")),E}}),null),T(xt,C(U,{get when(){return t()},get children(){var E=ai();return E.$$click=()=>_("openrouter"),E}}),null),T(Re,C(R,{get validation(){return b()}}),null),bt.$$click=()=>_n("https://zen.opencode.ai"),T(We,C(U,{get when(){return f()},get fallback(){return(()=>{var E=Zd();E.$$input=fe=>L("opencode_zen",fe.target.value);var Z=v;return typeof Z=="function"?gt(Z,E):v=E,ne(()=>pe(E,`w-full px-3 py-2 pr-10 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent ${D().state===ie.ERROR?"border-amber-400 dark:border-amber-500":D().state===ie.SUCCESS?"border-green-400 dark:border-green-500":"border-gray-300 dark:border-gray-600"}`)),ne(()=>E.value=r()),E})()},get children(){var E=Kd();E.$$input=fe=>L("opencode_zen",fe.target.value);var Z=v;return typeof Z=="function"?gt(Z,E):v=E,ne(()=>pe(E,`w-full px-3 py-2 pr-10 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent ${D().state===ie.ERROR?"border-amber-400 dark:border-amber-500":D().state===ie.SUCCESS?"border-green-400 dark:border-green-500":"border-gray-300 dark:border-gray-600"}`)),ne(()=>E.value=r()),E}}),null),T(We,C(U,{get when(){return Le(()=>!!r())()&&!V(r())},get children(){var E=oi();return E.$$click=()=>x(!f()),T(E,C(U,{get when(){return f()},get fallback(){return si()},get children(){return li()}})),ne(()=>Ue(E,"title",f()?"Hide key":"Show key")),E}}),null),T(Ze,C(U,{get when(){return r()},get children(){var E=ai();return E.$$click=()=>_("zen"),E}}),null),T(Qe,C(R,{get validation(){return D()}}),null),dt.$$click=A,T(dt,()=>l()||b().state===ie.VALIDATING||D().state===ie.VALIDATING?"Validating...":"Save Changes"),T(ct,C(U,{get when(){return a()},get children(){return Wd()}}),null),T(ct,C(U,{get when(){return u()},get children(){var E=Gd();return T(E,u),E}}),null),G.$$click=()=>_n("https://www.securityronin.com"),ne(E=>{var Z=`flex-1 p-3 rounded-lg border-2 transition-all ${m()==="system"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,fe=`flex-1 p-3 rounded-lg border-2 transition-all ${m()==="light"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,Te=`flex-1 p-3 rounded-lg border-2 transition-all ${m()==="dark"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,ke=l()||b().state===ie.VALIDATING||D().state===ie.VALIDATING;return Z!==E.e&&pe(de,E.e=Z),fe!==E.t&&pe(re,E.t=fe),Te!==E.a&&pe(g,E.a=Te),ke!==E.o&&(dt.disabled=E.o=ke),E},{e:void 0,t:void 0,a:void 0,o:void 0}),O})()}He(["click","input"]);var Jd=F('<p class="text-sm text-blue-700 dark:text-blue-300 mt-2">To get started, add an API key from OpenRouter or OpenCode Zen. Both offer free tiers.'),ef=F('<div class=flex-shrink-0><button class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors shadow-sm"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v16m8-8H4"></path></svg>Add API Key'),tf=F('<div class="mt-3 pt-3 border-t border-blue-200/50 dark:border-blue-700/50 flex flex-wrap gap-4 text-xs"><button class="text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1">Get OpenRouter key (free)<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></button><button class="text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1">Get OpenCode Zen key (free)<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14">'),nf=F(`<div class="bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-b border-amber-200 dark:border-amber-800 animate-banner-in"><div class="max-w-4xl mx-auto px-4 py-4 sm:py-5"><div class="flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4"><div class="flex-shrink-0 hidden sm:block mt-0.5"><div class="w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-800/50 flex items-center justify-center"><svg class="w-5 h-5 text-amber-600 dark:text-amber-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div></div><div class="flex-1 min-w-0"><h3 class="text-sm font-semibold text-amber-800 dark:text-amber-200">"If you're not paying for it, you're the product."</h3><p class="text-sm text-gray-700 dark:text-gray-300 mt-1">Free AI services may use your conversations to train their models. Avoid sharing sensitive personal, financial, or confidential information.</p></div><button class="flex-shrink-0 p-1.5 rounded text-amber-500 hover:text-amber-700 dark:text-amber-400 dark:hover:text-amber-200 hover:bg-amber-100 dark:hover:bg-amber-800/30 transition-colors"title="Dismiss for this session"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">`);async function ui(e){try{const{open:t}=await rr(async()=>{const{open:n}=await import("@tauri-apps/plugin-shell");return{open:n}},[]);await t(e)}catch{window.open(e,"_blank","noopener,noreferrer")}}function rf(e){const t="welcomeBannerDismissed",[n,r]=H(!1);tn(()=>{const o=sessionStorage.getItem(t)==="true";r(o)});function i(){r(!0),sessionStorage.setItem(t,"true")}const l=()=>{const o=e.configuredProviders;return o?.openCodeZen||o?.openRouter};return C(U,{get when(){return!n()},get children(){var o=nf(),a=o.firstChild,s=a.firstChild,u=s.firstChild,c=u.nextSibling,d=c.firstChild;d.nextSibling;var h=c.nextSibling;return T(c,C(U,{get when(){return!l()},get children(){return Jd()}}),null),T(s,C(U,{get when(){return!l()},get children(){var f=ef(),x=f.firstChild;return nt(x,"click",e.onOpenSettings,!0),f}}),h),h.$$click=i,T(a,C(U,{get when(){return!l()},get children(){var f=tf(),x=f.firstChild,m=x.nextSibling;return x.$$click=()=>ui("https://openrouter.ai/keys"),m.$$click=()=>ui("https://zen.opencode.ai"),f}}),null),o}})}He(["click"]);class ci extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function Tn(e){}function lf(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=Tn,onError:n=Tn,onRetry:r=Tn,onComment:i}=e;let l="",o=!0,a,s="",u="";function c(m){const w=o?m.replace(/^\xEF\xBB\xBF/,""):m,[y,v]=of(`${l}${w}`);for(const b of y)d(b);l=v,o=!1}function d(m){if(m===""){f();return}if(m.startsWith(":")){i&&i(m.slice(m.startsWith(": ")?2:1));return}const w=m.indexOf(":");if(w!==-1){const y=m.slice(0,w),v=m[w+1]===" "?2:1,b=m.slice(w+v);h(y,b,m);return}h(m,"",m)}function h(m,w,y){switch(m){case"event":u=w;break;case"data":s=`${s}${w}
`;break;case"id":a=w.includes("\0")?void 0:w;break;case"retry":/^\d+$/.test(w)?r(parseInt(w,10)):n(new ci(`Invalid \`retry\` value: "${w}"`,{type:"invalid-retry",value:w,line:y}));break;default:n(new ci(`Unknown field "${m.length>20?`${m.slice(0,20)}â¦`:m}"`,{type:"unknown-field",field:m,value:w,line:y}));break}}function f(){s.length>0&&t({id:a,event:u||void 0,data:s.endsWith(`
`)?s.slice(0,-1):s}),a=void 0,s="",u=""}function x(m={}){l&&m.consume&&d(l),o=!0,a=void 0,s="",u="",l=""}return{feed:c,reset:x}}function of(e){const t=[];let n="",r=0;for(;r<e.length;){const i=e.indexOf("\r",r),l=e.indexOf(`
`,r);let o=-1;if(i!==-1&&l!==-1?o=Math.min(i,l):i!==-1?i===e.length-1?o=-1:o=i:l!==-1&&(o=l),o===-1){n=e.slice(r);break}else{const a=e.slice(r,o);t.push(a),r=o+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}function af(e){if(e==="[DONE]")return{content:null,done:!0,error:null};try{const t=JSON.parse(e);if(t.error)return{content:null,done:!1,error:t.error.message||t.error||"Unknown error"};const n=t.choices?.[0]?.delta?.content;return n?{content:n,done:!1,error:null}:{content:null,done:!1,error:null}}catch{return{content:null,done:!1,error:null}}}function sf({onChunk:e,onDone:t,onError:n}){const r=lf({onEvent:i=>{const l=af(i.data);if(l.error&&n){n(l.error);return}if(l.done){t();return}l.content&&e(l.content)}});return{feed:i=>r.feed(i)}}async function uf({model:e,messages:t,onChunk:n,onComplete:r,onError:i,signal:l}){const o=performance.now();let a=null,s="";try{const u=await fetch("/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:e,messages:t,stream:!0}),signal:l});if(!u.ok){const m=(await u.json()).error?.message||"Request failed";i&&i(m);return}const c=u.body.getReader(),d=new TextDecoder;let h=!1;const f=sf({onChunk:x=>{a===null&&(a=performance.now()-o),s+=x,n(x)},onDone:()=>{if(h)return;h=!0;const x=performance.now()-o;r({content:s,responseTimeMs:x,ttftMs:a??x})},onError:x=>{i&&i(x)}});for(;;){const{done:x,value:m}=await c.read();if(x)break;const w=d.decode(m,{stream:!0});f.feed(w)}if(!h&&s){h=!0;const x=performance.now()-o;r({content:s,responseTimeMs:x,ttftMs:a??x})}}catch(u){i&&i(u.message||"Unknown error")}}class di{constructor(t={}){this.maxAttempts=t.maxAttempts??3,this.baseDelayMs=t.baseDelayMs??1e3,this.maxDelayMs=t.maxDelayMs??3e4}shouldRetry(t,n){return n>=this.maxAttempts?!1:typeof t.isRetryable=="boolean"?t.isRetryable:!!(t.isNetworkError||t.status>=500||t.status===429)}getDelay(t){const n=this.baseDelayMs*Math.pow(2,t-1),r=.3*n,i=(Math.random()*2-1)*r,l=n+i;return Math.min(l,this.maxDelayMs)}}class fi{constructor(t={}){this.failureThreshold=t.failureThreshold??5,this.resetTimeMs=t.resetTimeMs??6e4,this.state=new Map}isOpen(t){const n=this.state.get(t);return!(!n||n.failures<this.failureThreshold||Date.now()-n.openedAt>this.resetTimeMs)}recordSuccess(t){this.state.delete(t)}recordFailure(t){const n=this.state.get(t)||{failures:0,openedAt:null};n.failures++,n.failures>=this.failureThreshold&&!n.openedAt&&(n.openedAt=Date.now()),this.state.set(t,n)}resetTime(t){const n=this.state.get(t);return!n||!n.openedAt?null:n.openedAt+this.resetTimeMs}getState(t){const n=this.state.get(t);return!n||n.failures<this.failureThreshold?"closed":Date.now()-n.openedAt>this.resetTimeMs?"half-open":"open"}}class hi{constructor(t={}){this.endpoint=t.endpoint!==void 0?t.endpoint:"https://multiai-telemetry.vercel.app/api/telemetry",this.batchSize=t.batchSize??10,this.flushInterval=t.flushInterval??5e3,this.appVersion=t.appVersion??"0.1.0",this.queue=[],this.intervalId=null,this.endpoint!==null&&this.startFlushing()}log(t){this.queue.push({...t,timestamp:Date.now(),appVersion:this.appVersion,platform:typeof navigator<"u"?navigator.platform:"unknown"}),this.queue.length>=this.batchSize&&this.flush()}logError(t){this.log({type:"streaming_error",...t})}logSuccess(t){this.log({type:"streaming_success",...t})}async flush(){if(this.queue.length===0)return;const t=this.queue.splice(0);if(this.endpoint!==null)try{await fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:t})})}catch{}}startFlushing(){this.intervalId=setInterval(()=>this.flush(),this.flushInterval)}async destroy(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),await this.flush()}}class cf extends Error{constructor(t,n={}){super(t),this.name="StreamingError",this.timestamp=Date.now(),this.context=n}toJSON(){return{name:this.name,message:this.message,timestamp:this.timestamp,...this.context}}}class df extends cf{constructor(t,n){super(`Circuit open for ${t}`,{model:t,resetTime:n}),this.name="CircuitOpenError",this.isRetryable=!1}}function ff(e){return new Promise(t=>setTimeout(t,e))}class hf{constructor(t={}){this.retryPolicy=t.telemetry instanceof di?t.retry:new di(t.retry),this.circuitBreaker=t.circuit instanceof fi?t.circuit:new fi(t.circuit),this.telemetry=t.telemetry instanceof hi?t.telemetry:t.telemetry||new hi(t.telemetryOptions),this.activeRequests=new Map}async stream(t,{model:n,messages:r,onChunk:i,onComplete:l,onError:o}){if(this.circuitBreaker.isOpen(n)){const s=new df(n,this.circuitBreaker.resetTime(n));this.telemetry.logError?.({requestId:t,model:n,error:s.toJSON()}),o&&o(s);return}const a=new AbortController;this.activeRequests.set(t,a);try{await this.attemptStream(t,{model:n,messages:r,onChunk:i,onComplete:l,onError:o,signal:a.signal,attemptNumber:1})}finally{this.activeRequests.delete(t)}}async attemptStream(t,{model:n,messages:r,onChunk:i,onComplete:l,onError:o,signal:a,attemptNumber:s}){return new Promise(u=>{let c=!1,d=null;uf({model:n,messages:r,signal:a,onChunk:h=>{a.aborted||i(h)},onComplete:h=>{c=!0,this.circuitBreaker.recordSuccess(n),this.telemetry.logSuccess?.({requestId:t,model:n,attemptNumber:s,responseTimeMs:h.responseTimeMs,ttftMs:h.ttftMs}),l(h),u()},onError:async h=>{if(d=h,typeof h=="string"&&(d=new Error(h),d.isRetryable=!0),this.telemetry.logError?.({requestId:t,model:n,attemptNumber:s,error:d.toJSON?.()||{message:d.message}}),this.retryPolicy.shouldRetry(d,s)){const f=this.retryPolicy.getDelay(s);await ff(f),a.aborted||await this.attemptStream(t,{model:n,messages:r,onChunk:i,onComplete:l,onError:o,signal:a,attemptNumber:s+1}),u();return}d.isRateLimited&&this.circuitBreaker.recordFailure(n),o&&o(d),u()}})})}abort(t){const n=this.activeRequests.get(t);n&&(n.abort(),this.activeRequests.delete(t))}abortAll(){this.activeRequests.forEach(t=>t.abort()),this.activeRequests.clear()}getActiveRequests(){return this.activeRequests.size}}let Mn=null;function pi(){return Mn||(Mn=new hf({retry:{maxAttempts:3,baseDelayMs:1e3},circuit:{failureThreshold:5,resetTimeMs:6e4},telemetryOptions:{endpoint:null}})),Mn}function pf(){return`${Date.now()}-${Math.random().toString(36).slice(2)}`}function gf(){const[e,t]=H({}),[n,r]=H(!1),i=new Set;async function l(a,s){const u=pi();r(!0);const c={};a.forEach(f=>{c[f.id]={loading:!0,content:"",error:null,modelName:f.name}}),t(c);const d=a.map(f=>{const x=pf();return i.add(x),new Promise(m=>{u.stream(x,{model:f.id,messages:s,onChunk:w=>{t(y=>({...y,[f.id]:{...y[f.id],content:y[f.id].content+w}}))},onComplete:w=>{i.delete(x),t(y=>({...y,[f.id]:{...y[f.id],loading:!1,responseTimeMs:Math.round(w.responseTimeMs),ttftMs:w.ttftMs?Math.round(w.ttftMs):null}})),m({modelId:f.id,success:!0,content:w.content})},onError:w=>{i.delete(x);const y=w.message||w;t(v=>({...v,[f.id]:{...v[f.id],loading:!1,error:y}})),m({modelId:f.id,success:!1,error:y})}})})}),h=await Promise.all(d);return r(!1),h}function o(){pi().abortAll(),i.clear(),r(!1)}return tt(()=>o()),{responses:e,isStreaming:n,streamToModels:l,abort:o}}var mf=F('<div><div class="flex flex-col items-center gap-6 px-8"><div class="flex items-center gap-3"><img src=/multiai-logo.svg alt=MultiAI class="w-12 h-12"><h1 class="text-2xl font-semibold text-gray-900 dark:text-white">MultiAI</h1></div><div class="w-64 sm:w-80"><div class="h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-accent to-blue-500 rounded-full transition-all duration-500 ease-out progress-bar-animate"></div></div></div><p class="text-sm text-gray-600 dark:text-gray-400 min-h-[1.5rem] transition-all duration-300">'),yf=F('<div class="w-px bg-gray-200 dark:bg-gray-700 hover:bg-accent cursor-col-resize flex-shrink-0 relative transition-colors"style=min-width:1px><div class="absolute inset-y-0 -left-2 -right-2 cursor-col-resize">'),xf=F('<div class="absolute right-0 mt-1 w-40 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 z-50"><button class="w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300">Markdown (.md)</button><button class="w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300">PDF (.pdf)</button><button class="w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300">Word (.docx)'),bf=F('<div class=relative><button class="p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400"title="Export chat"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4">'),wf=F('<div class="bg-amber-50 dark:bg-amber-900/20 border-b border-amber-200 dark:border-amber-800 px-4 py-3"><div class="flex items-start gap-3 max-w-3xl mx-auto"><svg class="w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><div class=flex-1><h3 class="text-sm font-medium text-amber-800 dark:text-amber-200">No Free AI Models Available</h3><p class="text-sm text-amber-700 dark:text-amber-300 mt-1">All free tier quotas may be exhausted, or the providers are experiencing issues. You can still view your chat history. Check back later.'),kf=F('<div class="fixed inset-0 z-50 flex items-center justify-center"><div class="absolute inset-0 bg-black/50"></div><div class="relative bg-gray-50 dark:bg-gray-900 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto m-4"><button class="absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),vf=F('<div class="h-screen flex flex-col bg-gray-50 dark:bg-gray-900"><div class="flex-1 flex min-h-0"><div class="flex-1 flex flex-col"><header class="h-14 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm"><h1 class="text-sm font-medium text-gray-600 dark:text-gray-300"></h1><div class="flex items-center gap-3">');function Sf(e){return(()=>{var t=mf(),n=t.firstChild,r=n.firstChild,i=r.nextSibling,l=i.firstChild,o=l.firstChild,a=i.nextSibling;return T(a,()=>e.status),ne(s=>{var u=`fixed inset-0 z-50 flex items-center justify-center bg-gray-50 dark:bg-gray-900 transition-opacity duration-500 ${e.fadeOut?"opacity-0 pointer-events-none":"opacity-100"}`,c=`${e.progress}%`;return u!==s.e&&pe(t,s.e=u),c!==s.t&&jt(o,"width",s.t=c),s},{e:void 0,t:void 0}),t})()}function gi(){const e=wo(),t=bo(),n=gf(),[r,i]=H([]),[l,o]=H(null),[a,s]=H([]),[u,c]=H(!1),[d,h]=H(null),[f,x]=H(0),[m,w]=H(!1),[y,v]=H({openCodeZen:!1,openRouter:!1}),[b,I]=H([]),[D,k]=H([]),[V,X]=H(3);function q(){const $=window.innerWidth;$<768?X(1):$<1024?X(2):X(3)}const[A,_]=H(!1),[L,Q]=H(null);function N($=null){Q($),_(!0)}const[R,O]=H(localStorage.getItem("sidebarCollapsed")==="true"),[B,K]=H(parseInt(localStorage.getItem("sidebarWidth"))||240),[ee,p]=H(!1);function de($){$.preventDefault(),p(!0),document.body.style.cursor="col-resize",document.body.style.userSelect="none"}function re($){if(!ee())return;const z=Math.max(180,Math.min(400,$.clientX));K(z)}function g(){ee()&&(p(!1),document.body.style.cursor="",document.body.style.userSelect="",localStorage.setItem("sidebarWidth",B().toString()))}function be(){const $=!R();O($),localStorage.setItem("sidebarCollapsed",String($))}const[Ae,ye]=H(!1),[Re,me]=H("Starting up..."),[ze,we]=H(0),[qe,xt]=H(!1);function at(){const $=localStorage.getItem("theme")||"system",z=document.documentElement;if(z.classList.remove("light","dark"),$==="system"){const j=window.matchMedia("(prefers-color-scheme: dark)").matches;z.classList.add(j?"dark":"light")}else z.classList.add($)}tn(async()=>{at();const $=W=>{W.target.closest("[data-context-menu]")||W.preventDefault()};document.addEventListener("contextmenu",$);const z=W=>{(navigator.platform.toUpperCase().indexOf("MAC")>=0?W.metaKey:W.ctrlKey)&&(["c","v","x","a","z","y"].includes(W.key.toLowerCase())||["r","p","s","f","g","o","n","w","t","l","d","u","i","j","k","b"].includes(W.key.toLowerCase())&&W.preventDefault()),["F5","F7","F12"].includes(W.key)&&W.preventDefault()};document.addEventListener("keydown",z);const j=window.matchMedia("(prefers-color-scheme: dark)"),te=()=>{localStorage.getItem("theme")==="system"&&at()};j.addEventListener("change",te),q(),window.addEventListener("resize",q),window.addEventListener("mousemove",re),window.addEventListener("mouseup",g),tt(()=>{document.removeEventListener("contextmenu",$),document.removeEventListener("keydown",z),window.removeEventListener("resize",q),window.removeEventListener("mousemove",re),window.removeEventListener("mouseup",g)}),await Qe()});async function Qe(){try{if(me("Connecting to server..."),we(10),!await st()){me("Waiting for server...");let z=0;const j=10;for(;z<j&&(await Ke(Math.min(300*Math.pow(1.3,z),2e3)),we(10+z*2),!await st());)z++,me(`Waiting for server... (attempt ${z+1})`)}we(30),me("Server connected!"),me("Checking providers..."),we(45),await bt(),me("Loading models..."),we(55),await ut(),we(65),me("Setting up comparison view..."),await Ze(),we(70),me("Loading chats..."),we(85),await _e(),e.id&&(me("Loading conversation..."),we(95),await ft(e.id)),we(100),me("Ready!"),xt(!0),await Ke(200),ye(!0)}catch($){console.error("App initialization error:",$),me("Error starting app. Retrying..."),await Ke(2e3),await Qe()}}async function st(){try{const $=await fetch("/health",{method:"GET",signal:AbortSignal.timeout(2e3)});return $.ok?(await $.json()).status==="ok":!1}catch($){return console.warn("Health check failed:",$.message),!1}}function Ke($){return new Promise(z=>setTimeout(z,$))}Ct(async()=>{u()||e.id&&e.id!==l()?.id&&await ft(e.id)});async function ut(){try{const j=(await(await fetch("/v1/models")).json()).data?.length||0;x(j),h(j>0)}catch($){console.error("Failed to check models:",$),h(!1)}}async function bt(){try{const z=await(await fetch("/api/settings")).json();v({openCodeZen:z.opencode_zen_configured||!1,openRouter:z.openrouter_configured||!1})}catch($){console.error("Failed to load provider settings:",$)}}async function Ze(){try{const j=(await(await fetch("/v1/models/grouped")).json()).models||[];k(j);const te=localStorage.getItem("selectedModels");if(te)try{const he=JSON.parse(te);if(Array.isArray(he)&&he.length>0){const ge=he.filter(Fe=>{for(const Xe of j)for(const ht of Xe.providers||[])if(ht.id===Fe.id&&We(ht.source))return!0;return!1});if(ge.length>0){I(ge);return}}}catch(he){console.warn("Failed to parse saved models:",he)}const W=[];j.forEach(he=>{(he.providers||[]).forEach(ge=>{We(ge.source)&&W.push({id:ge.id,name:he.name,source:ge.source})})}),W.length>=2?I(W.slice(0,2)):W.length===1&&I([W[0]])}catch($){console.error("Failed to auto-select models:",$)}}function We($){const z=y();return $==="open_code_zen"?z.openCodeZen:$==="openrouter"||$==="open_router"?z.openRouter:!1}Ct(()=>{const $=b();$.length>0&&localStorage.setItem("selectedModels",JSON.stringify($))}),Ct(()=>{const $=n.responses();Object.keys($).length>0&&hr($)}),Ct(()=>{c(n.isStreaming())});function ct($,z){const j=b(),te=j[$]?.id,W=[...j];W[$]=z,I(W),te&&ni(te)}function dt(){const $=b();if($.length>=V())return;const z=new Set($.map(j=>j.id));for(const j of D())for(const te of j.providers||[])if(!z.has(te.id)&&We(te.source)){I([...$,{id:te.id,name:j.name,source:te.source}]);return}}function Mt($){const z=b();if(z.length<=1)return;const j=z[$],te=z.filter((W,he)=>he!==$);I(te),j?.id&&ni(j.id)}async function _e(){try{const z=await(await fetch("/api/chats")).json();i(z.chats||[])}catch($){console.error("Failed to load chats:",$)}}async function ft($){try{const z=await fetch(`/api/chats/${$}`);if(z.ok){const j=await z.json();o({id:j.id,title:j.title}),s(j.messages||[]),u()||vt()}else t("/"),o(null),s([])}catch(z){console.error("Failed to load chat:",z)}}async function S(){try{const z=await(await fetch("/api/chats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();await _e(),t(`/chat/${z.id}`),vt()}catch($){console.error("Failed to create chat:",$)}}async function M($){try{await fetch(`/api/chats/${$}`,{method:"DELETE"}),await _e(),l()?.id===$&&(t("/"),o(null),s([]),vt())}catch(z){console.error("Failed to delete chat:",z)}}async function G(){console.log("deleteAllChats called");try{const $=r();console.log("Deleting chats:",$.length);for(const z of $)console.log("Deleting chat:",z.id),await fetch(`/api/chats/${z.id}`,{method:"DELETE"});await _e(),t("/"),o(null),s([]),vt(),console.log("All chats deleted")}catch($){console.error("Failed to delete all chats:",$)}}async function E($){if(!$.trim()||u()||b().length<1)return;c(!0);let j=l()?.id;if(!j)try{j=(await(await fetch("/api/chats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:$.slice(0,50)})})).json()).id,o({id:j,title:$.slice(0,50)}),await _e(),window.history.replaceState(null,"",`/chat/${j}`)}catch(W){console.error("Failed to create chat:",W),c(!1),vt();return}try{const he=await(await fetch(`/api/chats/${j}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:$})})).json();s(ge=>[...ge,he])}catch(W){console.error("Failed to send message:",W),c(!1),vt();return}const te=a().map(W=>({role:W.role,content:W.content}));await Z(j,te)}async function Z($,z){const j=b(),W=(await n.streamToModels(j,z)).filter(he=>he.success);for(const he of W){const ge=j.find(Fe=>Fe.id===he.modelId);try{await fetch(`/api/chats/${$}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:`**${ge?.name||he.modelId}:**
${he.content}`})})}catch(Fe){console.error("Failed to save response for",he.modelId,":",Fe)}}await _e()}function fe(){n.abort()}async function Te($){let z=l()?.id;if(!z)try{z=(await(await fetch("/api/chats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:`Document: ${$.name}`})})).json()).id,await _e(),t(`/chat/${z}`),o({id:z,title:`Document: ${$.name}`})}catch{throw new Error("Failed to create chat for upload")}const j=new FormData;j.append("file",$);const te=await fetch(`/api/chats/${z}/upload`,{method:"POST",body:j});if(!te.ok){const W=await te.json();throw new Error(W.error||"Upload failed")}await ft(z),await _e()}function ke($){const z=l()?.id;if(!z)return;const j=`/api/chats/${z}/export?format=${$}`,te=document.createElement("a");te.href=j,te.download=`${l()?.title||"chat"}.${$}`,document.body.appendChild(te),te.click(),document.body.removeChild(te),w(!1)}return[C(U,{get when(){return!Ae()||qe()},get children(){return C(Sf,{get progress(){return ze()},get status(){return Re()},get fadeOut(){return qe()}})}}),(()=>{var $=vf(),z=$.firstChild,j=z.firstChild,te=j.firstChild,W=te.firstChild,he=W.nextSibling;return T($,C(Ho,{get sidebarCollapsed(){return R()},onToggleSidebar:be}),z),T(z,C(na,{get chats(){return r()},get currentChatId(){return l()?.id},onNewChat:S,onSelectChat:ge=>t(`/chat/${ge}`),onDeleteChat:M,onDeleteAllChats:G,onOpenSettings:N,get collapsed(){return R()},get width(){return B()}}),j),T(z,C(U,{get when(){return!R()},get children(){var ge=yf();return ge.$$mousedown=de,ge}}),j),T(W,()=>l()?.title||"MultiAI"),T(he,C(U,{get when(){return l()},get children(){var ge=bf(),Fe=ge.firstChild;return Fe.$$click=()=>w(!m()),T(ge,C(U,{get when(){return m()},get children(){var Xe=xf(),ht=Xe.firstChild,pr=ht.nextSibling,$l=pr.nextSibling;return Xe.$$click=El=>El.stopPropagation(),ht.$$click=()=>ke("md"),pr.$$click=()=>ke("pdf"),$l.$$click=()=>ke("docx"),Xe}}),null),ge}})),T(j,C(rf,{get configuredProviders(){return y()},onOpenSettings:N}),null),T(j,C(U,{get when(){return d()===!1},get children(){return wf()}}),null),T(j,C(Id,{get messages(){return a()},get selectedModels(){return b()},get availableModels(){return D()},onModelChange:ct,onAddPane:dt,onRemovePane:Mt,get maxPanes(){return V()},get configuredProviders(){return y()},onOpenSettings:N}),null),T(j,C(Nd,{onSend:E,onUpload:Te,get isStreaming(){return u()},onStop:fe,get disabled(){return!Ae()||d()===!1||b().length<1},get placeholder(){return Le(()=>!Ae())()?"Loading...":b().length<1?"No models available...":"Type your message..."}}),null),T(z,C(U,{get when(){return A()},get children(){var ge=kf(),Fe=ge.firstChild,Xe=Fe.nextSibling,ht=Xe.firstChild;return Fe.$$click=()=>_(!1),ht.$$click=()=>_(!1),T(Xe,C(Xd,{get focusField(){return L()},onSettingsChanged:async()=>{await bt(),await ut(),await Ze(),_(!1),Q(null)}}),null),ge}}),null),$})()]}He(["mousedown","click"]);const Cf=document.getElementById("root");Zl(()=>C(Ro,{get children(){return[C(vr,{path:"/",component:gi}),C(vr,{path:"/chat/:id",component:gi})]}}),Cf);
