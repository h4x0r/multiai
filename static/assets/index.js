(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const gt=!1,mt=(e,t)=>e===t,Ee=Symbol("solid-proxy"),pt=typeof Proxy=="function",yt=Symbol("solid-track"),pe={equals:mt};let qe=et;const ee=1,ye=2,ze={owned:null,cleanups:null,context:null,owner:null};var L=null;let Ce=null,bt=null,R=null,K=null,Q=null,xe=0;function le(e,t){const r=R,s=L,n=e.length===0,o=t===void 0?s:t,i=n?ze:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=n?e:()=>e(()=>X(()=>ue(i)));L=i,R=null;try{return te(a,!0)}finally{R=r,L=s}}function T(e,t){t=t?Object.assign({},pe,t):pe;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=n=>(typeof n=="function"&&(n=n(r.value)),Qe(r,n));return[Ge.bind(r),s]}function H(e,t,r){const s=De(e,t,!1,ee);de(s)}function $e(e,t,r){qe=Ct;const s=De(e,t,!1,ee);s.user=!0,Q?Q.push(s):de(s)}function U(e,t,r){r=r?Object.assign({},pe,r):pe;const s=De(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=r.equals||void 0,de(s),Ge.bind(s)}function vt(e){return te(e,!1)}function X(e){if(R===null)return e();const t=R;R=null;try{return e()}finally{R=t}}function Re(e,t,r){const s=Array.isArray(e);let n,o=r&&r.defer;return i=>{let a;if(s){a=Array(e.length);for(let l=0;l<e.length;l++)a[l]=e[l]()}else a=e();if(o)return o=!1,i;const c=X(()=>t(a,n,i));return n=a,c}}function wt(e){$e(()=>X(e))}function Te(e){return L===null||(L.cleanups===null?L.cleanups=[e]:L.cleanups.push(e)),e}function Je(){return L}function Xe(e,t){const r=L,s=R;L=e,R=null;try{return te(t,!0)}catch(n){Ne(n)}finally{L=r,R=s}}function xt(e){const t=R,r=L;return Promise.resolve().then(()=>{R=t,L=r;let s;return te(e,!1),R=L=null,s?s.done:void 0})}const[tn,rn]=T(!1);function Ye(e,t){const r=Symbol("context");return{id:r,Provider:_t(r),defaultValue:e}}function Ze(e){let t;return L&&L.context&&(t=L.context[e.id])!==void 0?t:e.defaultValue}function je(e){const t=U(e),r=U(()=>Oe(t()));return r.toArray=()=>{const s=r();return Array.isArray(s)?s:s!=null?[s]:[]},r}function Ge(){if(this.sources&&this.state)if(this.state===ee)de(this);else{const e=K;K=null,te(()=>ve(this),!1),K=e}if(R){const e=this.observers?this.observers.length:0;R.sources?(R.sources.push(this),R.sourceSlots.push(e)):(R.sources=[this],R.sourceSlots=[e]),this.observers?(this.observers.push(R),this.observerSlots.push(R.sources.length-1)):(this.observers=[R],this.observerSlots=[R.sources.length-1])}return this.value}function Qe(e,t,r){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&te(()=>{for(let n=0;n<e.observers.length;n+=1){const o=e.observers[n],i=Ce&&Ce.running;i&&Ce.disposed.has(o),(i?!o.tState:!o.state)&&(o.pure?K.push(o):Q.push(o),o.observers&&tt(o)),i||(o.state=ee)}if(K.length>1e6)throw K=[],new Error},!1)),t}function de(e){if(!e.fn)return;ue(e);const t=xe;$t(e,e.value,t)}function $t(e,t,r){let s;const n=L,o=R;R=L=e;try{s=e.fn(t)}catch(i){return e.pure&&(e.state=ee,e.owned&&e.owned.forEach(ue),e.owned=null),e.updatedAt=r+1,Ne(i)}finally{R=o,L=n}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?Qe(e,s):e.value=s,e.updatedAt=r)}function De(e,t,r,s=ee,n){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:L,context:L?L.context:null,pure:r};return L===null||L!==ze&&(L.owned?L.owned.push(o):L.owned=[o]),o}function be(e){if(e.state===0)return;if(e.state===ye)return ve(e);if(e.suspense&&X(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<xe);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===ee)de(e);else if(e.state===ye){const s=K;K=null,te(()=>ve(e,t[0]),!1),K=s}}function te(e,t){if(K)return e();let r=!1;t||(K=[]),Q?r=!0:Q=[],xe++;try{const s=e();return kt(r),s}catch(s){r||(Q=null),K=null,Ne(s)}}function kt(e){if(K&&(et(K),K=null),e)return;const t=Q;Q=null,t.length&&te(()=>qe(t),!1)}function et(e){for(let t=0;t<e.length;t++)be(e[t])}function Ct(e){let t,r=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[r++]=s:be(s)}for(t=0;t<r;t++)be(e[t])}function ve(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const s=e.sources[r];if(s.sources){const n=s.state;n===ee?s!==t&&(!s.updatedAt||s.updatedAt<xe)&&be(s):n===ye&&ve(s,t)}}}function tt(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=ye,r.pure?K.push(r):Q.push(r),r.observers&&tt(r))}}function ue(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),s=e.sourceSlots.pop(),n=r.observers;if(n&&n.length){const o=n.pop(),i=r.observerSlots.pop();s<n.length&&(o.sourceSlots[i]=s,n[s]=o,r.observerSlots[s]=i)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ue(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ue(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function St(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ne(e,t=L){throw St(e)}function Oe(e){if(typeof e=="function"&&!e.length)return Oe(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const s=Oe(e[r]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function _t(e,t){return function(s){let n;return H(()=>n=X(()=>(L.context={...L.context,[e]:s.value},je(()=>s.children))),void 0),n}}const At=Symbol("fallback");function Ue(e){for(let t=0;t<e.length;t++)e[t]()}function Pt(e,t,r={}){let s=[],n=[],o=[],i=0,a=t.length>1?[]:null;return Te(()=>Ue(o)),()=>{let c=e()||[],l=c.length,f,u;return c[yt],X(()=>{let m,k,d,g,x,b,_,S,I;if(l===0)i!==0&&(Ue(o),o=[],s=[],n=[],i=0,a&&(a=[])),r.fallback&&(s=[At],n[0]=le(N=>(o[0]=N,r.fallback())),i=1);else if(i===0){for(n=new Array(l),u=0;u<l;u++)s[u]=c[u],n[u]=le(h);i=l}else{for(d=new Array(l),g=new Array(l),a&&(x=new Array(l)),b=0,_=Math.min(i,l);b<_&&s[b]===c[b];b++);for(_=i-1,S=l-1;_>=b&&S>=b&&s[_]===c[S];_--,S--)d[S]=n[_],g[S]=o[_],a&&(x[S]=a[_]);for(m=new Map,k=new Array(S+1),u=S;u>=b;u--)I=c[u],f=m.get(I),k[u]=f===void 0?-1:f,m.set(I,u);for(f=b;f<=_;f++)I=s[f],u=m.get(I),u!==void 0&&u!==-1?(d[u]=n[f],g[u]=o[f],a&&(x[u]=a[f]),u=k[u],m.set(I,u)):o[f]();for(u=b;u<l;u++)u in d?(n[u]=d[u],o[u]=g[u],a&&(a[u]=x[u],a[u](u))):n[u]=le(h);n=n.slice(0,i=l),s=c.slice(0)}return n});function h(m){if(o[u]=m,a){const[k,d]=T(u);return a[u]=d,t(c[u],k)}return t(c[u])}}}function p(e,t){return X(()=>e(t||{}))}function he(){return!0}const Et={get(e,t,r){return t===Ee?r:e.get(t)},has(e,t){return t===Ee?!0:e.has(t)},set:he,deleteProperty:he,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:he,deleteProperty:he}},ownKeys(e){return e.keys()}};function Se(e){return(e=typeof e=="function"?e():e)?e:{}}function Ot(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function ge(...e){let t=!1;for(let i=0;i<e.length;i++){const a=e[i];t=t||!!a&&Ee in a,e[i]=typeof a=="function"?(t=!0,U(a)):a}if(pt&&t)return new Proxy({get(i){for(let a=e.length-1;a>=0;a--){const c=Se(e[a])[i];if(c!==void 0)return c}},has(i){for(let a=e.length-1;a>=0;a--)if(i in Se(e[a]))return!0;return!1},keys(){const i=[];for(let a=0;a<e.length;a++)i.push(...Object.keys(Se(e[a])));return[...new Set(i)]}},Et);const r={},s=Object.create(null);for(let i=e.length-1;i>=0;i--){const a=e[i];if(!a)continue;const c=Object.getOwnPropertyNames(a);for(let l=c.length-1;l>=0;l--){const f=c[l];if(f==="__proto__"||f==="constructor")continue;const u=Object.getOwnPropertyDescriptor(a,f);if(!s[f])s[f]=u.get?{enumerable:!0,configurable:!0,get:Ot.bind(r[f]=[u.get.bind(a)])}:u.value!==void 0?u:void 0;else{const h=r[f];h&&(u.get?h.push(u.get.bind(a)):u.value!==void 0&&h.push(()=>u.value))}}}const n={},o=Object.keys(s);for(let i=o.length-1;i>=0;i--){const a=o[i],c=s[a];c&&c.get?Object.defineProperty(n,a,c):n[a]=c?c.value:void 0}return n}const Lt=e=>`Stale read from <${e}>.`;function se(e){const t="fallback"in e&&{fallback:()=>e.fallback};return U(Pt(()=>e.each,e.children,t||void 0))}function M(e){const t=e.keyed,r=U(()=>e.when,void 0,void 0),s=t?r:U(r,void 0,{equals:(n,o)=>!n==!o});return U(()=>{const n=s();if(n){const o=e.children;return typeof o=="function"&&o.length>0?X(()=>o(t?n:()=>{if(!X(s))throw Lt("Show");return r()})):o}return e.fallback},void 0,void 0)}const ke=e=>U(()=>e());function It(e,t,r){let s=r.length,n=t.length,o=s,i=0,a=0,c=t[n-1].nextSibling,l=null;for(;i<n||a<o;){if(t[i]===r[a]){i++,a++;continue}for(;t[n-1]===r[o-1];)n--,o--;if(n===i){const f=o<s?a?r[a-1].nextSibling:r[o-a]:c;for(;a<o;)e.insertBefore(r[a++],f)}else if(o===a)for(;i<n;)(!l||!l.has(t[i]))&&t[i].remove(),i++;else if(t[i]===r[o-1]&&r[a]===t[n-1]){const f=t[--n].nextSibling;e.insertBefore(r[a++],t[i++].nextSibling),e.insertBefore(r[--o],f),t[n]=r[o]}else{if(!l){l=new Map;let u=a;for(;u<o;)l.set(r[u],u++)}const f=l.get(t[i]);if(f!=null)if(a<f&&f<o){let u=i,h=1,m;for(;++u<n&&u<o&&!((m=l.get(t[u]))==null||m!==f+h);)h++;if(h>f-a){const k=t[i];for(;a<f;)e.insertBefore(r[a++],k)}else e.replaceChild(r[a++],t[i++])}else i++;else t[i++].remove()}}}const Be="_$DX_DELEGATE";function Mt(e,t,r,s={}){let n;return le(o=>{n=o,t===document?e():w(t,e(),t.firstChild?null:void 0,r)},s.owner),()=>{n(),t.textContent=""}}function C(e,t,r,s){let n;const o=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},i=()=>(n||(n=o())).cloneNode(!0);return i.cloneNode=i,i}function ae(e,t=window.document){const r=t[Be]||(t[Be]=new Set);for(let s=0,n=e.length;s<n;s++){const o=e[s];r.has(o)||(r.add(o),t.addEventListener(o,Rt))}}function oe(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function J(e,t){t==null?e.removeAttribute("class"):e.className=t}function rt(e,t,r,s){Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r}function Le(e,t,r){return X(()=>e(t,r))}function w(e,t,r,s){if(r!==void 0&&!s&&(s=[]),typeof t!="function")return we(e,t,s,r);H(n=>we(e,t(),n,r),s)}function Rt(e){let t=e.target;const r=`$$${e.type}`,s=e.target,n=e.currentTarget,o=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),i=()=>{const c=t[r];if(c&&!t.disabled){const l=t[`${r}Data`];if(l!==void 0?c.call(t,l,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},a=()=>{for(;i()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();o(c[0]);for(let l=0;l<c.length-2&&(t=c[l],!!i());l++){if(t._$host){t=t._$host,a();break}if(t.parentNode===n)break}}else a();o(s)}function we(e,t,r,s,n){for(;typeof r=="function";)r=r();if(t===r)return r;const o=typeof t,i=s!==void 0;if(e=i&&r[0]&&r[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===r))return r;if(i){let a=r[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),r=ne(e,r,s,a)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||o==="boolean")r=ne(e,r,s);else{if(o==="function")return H(()=>{let a=t();for(;typeof a=="function";)a=a();r=we(e,a,r,s)}),()=>r;if(Array.isArray(t)){const a=[],c=r&&Array.isArray(r);if(Ie(a,t,r,n))return H(()=>r=we(e,a,r,s,!0)),()=>r;if(a.length===0){if(r=ne(e,r,s),i)return r}else c?r.length===0?Ke(e,a,s):It(e,r,a):(r&&ne(e),Ke(e,a));r=a}else if(t.nodeType){if(Array.isArray(r)){if(i)return r=ne(e,r,s,t);ne(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function Ie(e,t,r,s){let n=!1;for(let o=0,i=t.length;o<i;o++){let a=t[o],c=r&&r[e.length],l;if(!(a==null||a===!0||a===!1))if((l=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))n=Ie(e,a,c)||n;else if(l==="function")if(s){for(;typeof a=="function";)a=a();n=Ie(e,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||n}else e.push(a),n=!0;else{const f=String(a);c&&c.nodeType===3&&c.data===f?e.push(c):e.push(document.createTextNode(f))}}return n}function Ke(e,t,r=null){for(let s=0,n=t.length;s<n;s++)e.insertBefore(t[s],r)}function ne(e,t,r,s){if(r===void 0)return e.textContent="";const n=s||document.createTextNode("");if(t.length){let o=!1;for(let i=t.length-1;i>=0;i--){const a=t[i];if(n!==a){const c=a.parentNode===e;!o&&!i?c?e.replaceChild(n,a):e.insertBefore(n,r):c&&a.remove()}else o=!0}}else e.insertBefore(n,r);return[n]}const Tt=!1;function nt(){let e=new Set;function t(n){return e.add(n),()=>e.delete(n)}let r=!1;function s(n,o){if(r)return!(r=!1);const i={to:n,options:o,defaultPrevented:!1,preventDefault:()=>i.defaultPrevented=!0};for(const a of e)a.listener({...i,from:a.location,retry:c=>{c&&(r=!0),a.navigate(n,{...o,resolve:!1})}});return!i.defaultPrevented}return{subscribe:t,confirm:s}}let Me;function Fe(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Me=window.history.state._depth}Fe();function jt(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function Dt(e,t){let r=!1;return()=>{const s=Me;Fe();const n=s==null?null:Me-s;if(r){r=!1;return}n&&t(n)?(r=!0,window.history.go(-n)):e()}}const Nt=/^(?:[a-z0-9]+:)?\/\//i,Ft=/^\/+|(\/)\/+$/g,st="http://sr";function ce(e,t=!1){const r=e.replace(Ft,"$1");return r?t||/^[?#]/.test(r)?r:"/"+r:""}function me(e,t,r){if(Nt.test(t))return;const s=ce(e),n=r&&ce(r);let o="";return!n||t.startsWith("/")?o=s:n.toLowerCase().indexOf(s.toLowerCase())!==0?o=s+n:o=n,(o||"/")+ce(t,!o)}function Ut(e,t){if(e==null)throw new Error(t);return e}function Bt(e,t){return ce(e).replace(/\/*(\*.*)?$/g,"")+ce(t)}function ot(e){const t={};return e.searchParams.forEach((r,s)=>{s in t?Array.isArray(t[s])?t[s].push(r):t[s]=[t[s],r]:t[s]=r}),t}function Kt(e,t,r){const[s,n]=e.split("/*",2),o=s.split("/").filter(Boolean),i=o.length;return a=>{const c=a.split("/").filter(Boolean),l=c.length-i;if(l<0||l>0&&n===void 0&&!t)return null;const f={path:i?"":"/",params:{}},u=h=>r===void 0?void 0:r[h];for(let h=0;h<i;h++){const m=o[h],k=m[0]===":",d=k?c[h]:c[h].toLowerCase(),g=k?m.slice(1):m.toLowerCase();if(k&&_e(d,u(g)))f.params[g]=d;else if(k||!_e(d,g))return null;f.path+=`/${d}`}if(n){const h=l?c.slice(-l).join("/"):"";if(_e(h,u(n)))f.params[n]=h;else return null}return f}}function _e(e,t){const r=s=>s===e;return t===void 0?!0:typeof t=="string"?r(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(r):t instanceof RegExp?t.test(e):!1}function Ht(e){const[t,r]=e.pattern.split("/*",2),s=t.split("/").filter(Boolean);return s.reduce((n,o)=>n+(o.startsWith(":")?2:3),s.length-(r===void 0?0:1))}function at(e){const t=new Map,r=Je();return new Proxy({},{get(s,n){return t.has(n)||Xe(r,()=>t.set(n,U(()=>e()[n]))),t.get(n)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())},has(s,n){return n in e()}})}function it(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let r=e.slice(0,t.index),s=e.slice(t.index+t[0].length);const n=[r,r+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(s);)n.push(r+=t[1]),s=s.slice(t[0].length);return it(s).reduce((o,i)=>[...o,...n.map(a=>a+i)],[])}const Vt=100,lt=Ye(),ct=Ye(),ut=()=>Ut(Ze(lt),"<A> and 'use' router primitives can be only used inside a Route."),Wt=()=>ut().navigatorFactory(),qt=()=>ut().params;function zt(e,t=""){const{component:r,preload:s,load:n,children:o,info:i}=e,a=!o||Array.isArray(o)&&!o.length,c={key:e,component:r,preload:s||n,info:i};return dt(e.path).reduce((l,f)=>{for(const u of it(f)){const h=Bt(t,u);let m=a?h:h.split("/*",1)[0];m=m.split("/").map(k=>k.startsWith(":")||k.startsWith("*")?k:encodeURIComponent(k)).join("/"),l.push({...c,originalPath:f,pattern:m,matcher:Kt(m,!a,e.matchFilters)})}return l},[])}function Jt(e,t=0){return{routes:e,score:Ht(e[e.length-1])*1e4-t,matcher(r){const s=[];for(let n=e.length-1;n>=0;n--){const o=e[n],i=o.matcher(r);if(!i)return null;s.unshift({...i,route:o})}return s}}}function dt(e){return Array.isArray(e)?e:[e]}function ft(e,t="",r=[],s=[]){const n=dt(e);for(let o=0,i=n.length;o<i;o++){const a=n[o];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const c=zt(a,t);for(const l of c){r.push(l);const f=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!f)ft(a.children,l.pattern,r,s);else{const u=Jt([...r],s.length);s.push(u)}r.pop()}}}return r.length?s:s.sort((o,i)=>i.score-o.score)}function Ae(e,t){for(let r=0,s=e.length;r<s;r++){const n=e[r].matcher(t);if(n)return n}return[]}function Xt(e,t,r){const s=new URL(st),n=U(f=>{const u=e();try{return new URL(u,s)}catch{return console.error(`Invalid path ${u}`),f}},s,{equals:(f,u)=>f.href===u.href}),o=U(()=>n().pathname),i=U(()=>n().search,!0),a=U(()=>n().hash),c=()=>"",l=Re(i,()=>ot(n()));return{get pathname(){return o()},get search(){return i()},get hash(){return a()},get state(){return t()},get key(){return c()},query:r?r(l):at(l)}}let re;function Yt(){return re}function Zt(e,t,r,s={}){const{signal:[n,o],utils:i={}}=e,a=i.parsePath||(A=>A),c=i.renderPath||(A=>A),l=i.beforeLeave||nt(),f=me("",s.base||"");if(f===void 0)throw new Error(`${f} is not a valid base path`);f&&!n().value&&o({value:f,replace:!0,scroll:!1});const[u,h]=T(!1);let m;const k=(A,P)=>{P.value===d()&&P.state===x()||(m===void 0&&h(!0),re=A,m=P,xt(()=>{m===P&&(g(m.value),b(m.state),I[1](y=>y.filter(v=>v.pending)))}).finally(()=>{m===P&&vt(()=>{re=void 0,A==="navigate"&&q(m),h(!1),m=void 0})}))},[d,g]=T(n().value),[x,b]=T(n().state),_=Xt(d,x,i.queryWrapper),S=[],I=T([]),N=U(()=>typeof s.transformUrl=="function"?Ae(t(),s.transformUrl(_.pathname)):Ae(t(),_.pathname)),B=()=>{const A=N(),P={};for(let y=0;y<A.length;y++)Object.assign(P,A[y].params);return P},V=i.paramsWrapper?i.paramsWrapper(B,t):at(B),$={pattern:f,path:()=>f,outlet:()=>null,resolvePath(A){return me(f,A)}};return H(Re(n,A=>k("native",A),{defer:!0})),{base:$,location:_,params:V,isRouting:u,renderPath:c,parsePath:a,navigatorFactory:W,matches:N,beforeLeave:l,preloadRoute:z,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:I};function F(A,P,y){X(()=>{if(typeof P=="number"){P&&(i.go?i.go(P):console.warn("Router integration does not support relative routing"));return}const v=!P||P[0]==="?",{replace:E,resolve:j,scroll:D,state:O}={replace:!1,resolve:!v,scroll:!0,...y},Y=j?A.resolvePath(P):me(v&&_.pathname||"",P);if(Y===void 0)throw new Error(`Path '${P}' is not a routable path`);if(S.length>=Vt)throw new Error("Too many redirects");const Z=d();(Y!==Z||O!==x())&&(Tt||l.confirm(Y,y)&&(S.push({value:Z,replace:E,scroll:D,state:x()}),k("navigate",{value:Y,state:O})))})}function W(A){return A=A||Ze(ct)||$,(P,y)=>F(A,P,y)}function q(A){const P=S[0];P&&(o({...A,replace:P.replace,scroll:P.scroll}),S.length=0)}function z(A,P){const y=Ae(t(),A.pathname),v=re;re="preload";for(let E in y){const{route:j,params:D}=y[E];j.component&&j.component.preload&&j.component.preload();const{preload:O}=j;P&&O&&Xe(r(),()=>O({params:D,location:{pathname:A.pathname,search:A.search,hash:A.hash,query:ot(A),state:null,key:""},intent:"preload"}))}re=v}}function Gt(e,t,r,s){const{base:n,location:o,params:i}=e,{pattern:a,component:c,preload:l}=s().route,f=U(()=>s().path);c&&c.preload&&c.preload();const u=l?l({params:i,location:o,intent:re||"initial"}):void 0;return{parent:t,pattern:a,path:f,outlet:()=>c?p(c,{params:i,location:o,data:u,get children(){return r()}}):r(),resolvePath(m){return me(n.path(),m,f())}}}const Qt=e=>t=>{const{base:r}=t,s=je(()=>t.children),n=U(()=>ft(s(),t.base||""));let o;const i=Zt(e,n,()=>o,{base:r,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(i),p(lt.Provider,{value:i,get children(){return p(er,{routerState:i,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[ke(()=>(o=Je())&&null),p(tr,{routerState:i,get branches(){return n()}})]}})}})};function er(e){const t=e.routerState.location,r=e.routerState.params,s=U(()=>e.preload&&X(()=>{e.preload({params:r,location:t,intent:Yt()||"initial"})}));return p(M,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:n=>p(n,{params:r,location:t,get data(){return s()},get children(){return e.children}})})}function tr(e){const t=[];let r;const s=U(Re(e.routerState.matches,(n,o,i)=>{let a=o&&n.length===o.length;const c=[];for(let l=0,f=n.length;l<f;l++){const u=o&&o[l],h=n[l];i&&u&&h.route.key===u.route.key?c[l]=i[l]:(a=!1,t[l]&&t[l](),le(m=>{t[l]=m,c[l]=Gt(e.routerState,c[l-1]||e.routerState.base,He(()=>s()[l+1]),()=>{const k=e.routerState.matches();return k[l]??k[0]})}))}return t.splice(n.length).forEach(l=>l()),i&&a?i:(r=c[0],c)}));return He(()=>s()&&r)()}const He=e=>()=>p(M,{get when(){return e()},keyed:!0,children:t=>p(ct.Provider,{value:t,get children(){return t.outlet()}})}),Ve=e=>{const t=je(()=>e.children);return ge(e,{get children(){return t()}})};function rr([e,t],r,s){return[e,s?n=>t(s(n)):t]}function nr(e){let t=!1;const r=n=>typeof n=="string"?{value:n}:n,s=rr(T(r(e.get()),{equals:(n,o)=>n.value===o.value&&n.state===o.state}),void 0,n=>(!t&&e.set(n),n));return e.init&&Te(e.init((n=e.get())=>{t=!0,s[1](r(n)),t=!1})),Qt({signal:s,create:e.create,utils:e.utils})}function sr(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function or(e,t){const r=e&&document.getElementById(e);r?r.scrollIntoView():t&&window.scrollTo(0,0)}const ar=new Map;function ir(e=!0,t=!1,r="/_server",s){return n=>{const o=n.base.path(),i=n.navigatorFactory(n.base);let a,c;function l(d){return d.namespaceURI==="http://www.w3.org/2000/svg"}function f(d){if(d.defaultPrevented||d.button!==0||d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)return;const g=d.composedPath().find(N=>N instanceof Node&&N.nodeName.toUpperCase()==="A");if(!g||t&&!g.hasAttribute("link"))return;const x=l(g),b=x?g.href.baseVal:g.href;if((x?g.target.baseVal:g.target)||!b&&!g.hasAttribute("state"))return;const S=(g.getAttribute("rel")||"").split(/\s+/);if(g.hasAttribute("download")||S&&S.includes("external"))return;const I=x?new URL(b,document.baseURI):new URL(b);if(!(I.origin!==window.location.origin||o&&I.pathname&&!I.pathname.toLowerCase().startsWith(o.toLowerCase())))return[g,I]}function u(d){const g=f(d);if(!g)return;const[x,b]=g,_=n.parsePath(b.pathname+b.search+b.hash),S=x.getAttribute("state");d.preventDefault(),i(_,{resolve:!1,replace:x.hasAttribute("replace"),scroll:!x.hasAttribute("noscroll"),state:S?JSON.parse(S):void 0})}function h(d){const g=f(d);if(!g)return;const[x,b]=g;s&&(b.pathname=s(b.pathname)),n.preloadRoute(b,x.getAttribute("preload")!=="false")}function m(d){clearTimeout(a);const g=f(d);if(!g)return c=null;const[x,b]=g;c!==x&&(s&&(b.pathname=s(b.pathname)),a=setTimeout(()=>{n.preloadRoute(b,x.getAttribute("preload")!=="false"),c=x},20))}function k(d){if(d.defaultPrevented)return;let g=d.submitter&&d.submitter.hasAttribute("formaction")?d.submitter.getAttribute("formaction"):d.target.getAttribute("action");if(!g)return;if(!g.startsWith("https://action/")){const b=new URL(g,st);if(g=n.parsePath(b.pathname+b.search),!g.startsWith(r))return}if(d.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const x=ar.get(g);if(x){d.preventDefault();const b=new FormData(d.target,d.submitter);x.call({r:n,f:d.target},d.target.enctype==="multipart/form-data"?b:new URLSearchParams(b))}}ae(["click","submit"]),document.addEventListener("click",u),e&&(document.addEventListener("mousemove",m,{passive:!0}),document.addEventListener("focusin",h,{passive:!0}),document.addEventListener("touchstart",h,{passive:!0})),document.addEventListener("submit",k),Te(()=>{document.removeEventListener("click",u),e&&(document.removeEventListener("mousemove",m),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",k)})}}function lr(e){const t=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,n=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:n}},r=nt();return nr({get:t,set({value:s,replace:n,scroll:o,state:i}){n?window.history.replaceState(jt(i),"",s):window.history.pushState(i,"",s),or(decodeURIComponent(window.location.hash.slice(1)),o),Fe()},init:s=>sr(window,"popstate",Dt(s,n=>{if(n)return!r.confirm(n);{const o=t();return!r.confirm(o.value,{state:o.state})}})),create:ir(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:r}})(e)}var cr=C('<div class=mb-2><h3 class="px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400">Today'),ur=C('<div class=mb-2><h3 class="px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400">Yesterday'),dr=C('<div class=mb-2><h3 class="px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400">Older'),fr=C('<p class="px-3 py-8 text-center text-sm text-gray-500 dark:text-gray-400">No chats yet.<br>Start a new conversation!'),hr=C('<aside class="w-60 border-r border-gray-200 dark:border-gray-700 bg-gray-100/50 dark:bg-gray-800/50 flex flex-col"><div class=p-3><button class="w-full flex items-center gap-2 px-3 py-2 rounded-lg bg-accent hover:bg-accent-hover text-white text-sm font-medium transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v16m8-8H4"></path></svg>New Chat</button></div><div class="flex-1 overflow-y-auto px-2"></div><div class="p-3 border-t border-gray-200 dark:border-gray-700"><div class="text-xs text-gray-500 dark:text-gray-400 text-center">MultiAI v0.1.0'),gr=C('<button class="absolute right-2 p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-500"title="Delete chat"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),mr=C('<div><button class="flex-1 text-left px-3 py-2 text-sm truncate">');function pr(e){const[t,r]=T(null);function s(o){const i=new Date,a=new Date(i);a.setDate(a.getDate()-1);const c={today:[],yesterday:[],older:[]};return o.forEach(l=>{const u=new Date(l.updated_at).toDateString();u===i.toDateString()?c.today.push(l):u===a.toDateString()?c.yesterday.push(l):c.older.push(l)}),c}const n=()=>s(e.chats);return(()=>{var o=hr(),i=o.firstChild,a=i.firstChild,c=i.nextSibling;return rt(a,"click",e.onNewChat),w(c,p(M,{get when(){return n().today.length>0},get children(){var l=cr();return l.firstChild,w(l,p(se,{get each(){return n().today},children:f=>p(Pe,ge({chat:f},e,{hoveredId:t,setHoveredId:r}))}),null),l}}),null),w(c,p(M,{get when(){return n().yesterday.length>0},get children(){var l=ur();return l.firstChild,w(l,p(se,{get each(){return n().yesterday},children:f=>p(Pe,ge({chat:f},e,{hoveredId:t,setHoveredId:r}))}),null),l}}),null),w(c,p(M,{get when(){return n().older.length>0},get children(){var l=dr();return l.firstChild,w(l,p(se,{get each(){return n().older},children:f=>p(Pe,ge({chat:f},e,{hoveredId:t,setHoveredId:r}))}),null),l}}),null),w(c,p(M,{get when(){return e.chats.length===0},get children(){return fr()}}),null),o})()}function Pe(e){const t=()=>e.currentChatId===e.chat.id,r=()=>e.hoveredId()===e.chat.id;return(()=>{var s=mr(),n=s.firstChild;return s.addEventListener("mouseleave",()=>e.setHoveredId(null)),s.addEventListener("mouseenter",()=>e.setHoveredId(e.chat.id)),n.$$click=()=>e.onSelectChat(e.chat.id),w(n,()=>e.chat.title||"New Chat"),w(s,p(M,{get when(){return r()},get children(){var o=gr();return o.$$click=i=>{i.stopPropagation(),e.onDeleteChat(e.chat.id)},o}}),null),H(()=>J(s,`group relative flex items-center rounded-lg cursor-pointer transition-colors ${t()?"bg-gray-200 dark:bg-gray-700":"hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`)),s})()}ae(["click"]);var yr=C('<div class="flex-1 overflow-y-auto px-4 py-6"><div class="max-w-3xl mx-auto space-y-4"><div>'),br=C('<div class="flex flex-col items-center justify-center py-12 text-center"><div class="w-16 h-16 mb-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center"><svg class="w-8 h-8 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg></div><h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2">Welcome to MultiAI</h2><p class="text-gray-500 dark:text-gray-400 max-w-md">Compare answers from multiple free AI models side by side. No subscriptions, no limits.'),vr=C('<div><button class="p-1.5 rounded-lg bg-white dark:bg-gray-700 shadow-sm hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-500 dark:text-gray-400"title=Copy><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">'),wr=C('<div><div class="relative max-w-[80%]"><div><div class="text-sm whitespace-pre-wrap break-words">'),xr=C('<div class="flex justify-start message-enter"><div class=max-w-[80%]><div class="px-4 py-3 rounded-2xl rounded-bl-md bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100"><div class="text-sm whitespace-pre-wrap break-words"><span class=cursor-blink>|');function $r(e){let t;return $e(()=>{e.messages.length,e.streamingContent,t&&t.scrollIntoView({behavior:"smooth"})}),(()=>{var r=yr(),s=r.firstChild,n=s.firstChild;w(s,p(M,{get when(){return ke(()=>e.messages.length===0)()&&!e.isStreaming},get children(){return p(kr,{})}}),n),w(s,p(se,{get each(){return e.messages},children:i=>p(Cr,{message:i})}),n),w(s,p(M,{get when(){return e.isStreaming},get children(){return p(Sr,{get content(){return e.streamingContent}})}}),n);var o=t;return typeof o=="function"?Le(o,n):t=n,r})()}function kr(){return br()}function Cr(e){const[t,r]=T(!1),s=()=>e.message.role==="user";async function n(){try{await navigator.clipboard.writeText(e.message.content)}catch(o){console.error("Failed to copy:",o)}}return(()=>{var o=wr(),i=o.firstChild,a=i.firstChild,c=a.firstChild;return o.addEventListener("mouseleave",()=>r(!1)),o.addEventListener("mouseenter",()=>r(!0)),w(c,()=>e.message.content),w(i,p(M,{get when(){return t()},get children(){var l=vr(),f=l.firstChild;return f.$$click=n,H(()=>J(l,`absolute top-0 ${s()?"left-0 -translate-x-full pr-2":"right-0 translate-x-full pl-2"} flex items-center gap-1`)),l}}),null),H(l=>{var f=`group flex ${s()?"justify-end":"justify-start"} message-enter`,u=`px-4 py-3 rounded-2xl ${s()?"bg-accent text-white rounded-br-md":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-bl-md"}`;return f!==l.e&&J(o,l.e=f),u!==l.t&&J(a,l.t=u),l},{e:void 0,t:void 0}),o})()}function Sr(e){return(()=>{var t=xr(),r=t.firstChild,s=r.firstChild,n=s.firstChild,o=n.firstChild;return w(n,()=>e.content||"",o),t})()}ae(["click"]);var _r=C('<div class="mb-2 px-3 py-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"><p class="text-sm text-red-600 dark:text-red-400">'),Ar=C('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13">'),Pr=C('<button type=submit><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 10l7-7m0 0l7 7m-7-7v18">'),Er=C('<span class="text-xs text-gray-400">Press <kbd class="px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-700 font-mono">⌘</kbd> + <kbd class="px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-700 font-mono">↩</kbd> to send'),Or=C('<div><div class="max-w-3xl mx-auto"><form class=relative><input type=file accept=.pdf,.docx,.txt,.md class=hidden><div><button type=button></button><textarea rows=1 class="flex-1 py-3 pr-3 bg-transparent resize-none outline-none text-gray-900 dark:text-gray-100 placeholder-gray-400 text-sm max-h-48 disabled:cursor-not-allowed"></textarea></div><div class="mt-2 text-center">'),Lr=C('<svg class="w-5 h-5 animate-spin"fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),Ir=C('<button type=button class="m-2 p-2 rounded-lg bg-red-500 hover:bg-red-600 text-white transition-colors"title=Stop><svg class="w-5 h-5"fill=currentColor viewBox="0 0 24 24"><rect x=6 y=6 width=12 height=12 rx=1>'),Mr=C('<span class="text-xs text-amber-600 dark:text-amber-400">Messaging disabled - no AI models available'),Rr=C('<span class="text-xs text-accent">Processing document...');function Tr(e){const[t,r]=T(""),[s,n]=T(!1),[o,i]=T(null);let a,c;const l=()=>e.isStreaming||e.disabled||s();function f(d){d?.preventDefault();const g=t().trim();g&&!l()&&(e.onSend(g),r(""),a&&(a.style.height="auto"))}function u(d){(d.metaKey||d.ctrlKey)&&d.key==="Enter"&&(d.preventDefault(),f())}function h(d){r(d.target.value),d.target.style.height="auto",d.target.style.height=Math.min(d.target.scrollHeight,200)+"px"}function m(){c&&!l()&&c.click()}async function k(d){const g=d.target.files?.[0];if(!g)return;const x=[".pdf",".docx",".txt",".md"],b="."+g.name.split(".").pop().toLowerCase();if(!x.includes(b)){i(`Unsupported file type. Allowed: ${x.join(", ")}`),setTimeout(()=>i(null),5e3),d.target.value="";return}const _=10*1024*1024;if(g.size>_){i("File too large. Maximum size is 10MB."),setTimeout(()=>i(null),5e3),d.target.value="";return}if(e.onUpload){n(!0),i(null);try{await e.onUpload(g)}catch(S){i(S.message||"Upload failed"),setTimeout(()=>i(null),5e3)}finally{n(!1),d.target.value=""}}}return(()=>{var d=Or(),g=d.firstChild,x=g.firstChild,b=x.firstChild,_=b.nextSibling,S=_.firstChild,I=S.nextSibling,N=_.nextSibling;w(g,p(M,{get when(){return o()},get children(){var $=_r(),F=$.firstChild;return w(F,o),$}}),x),x.addEventListener("submit",f),b.addEventListener("change",k);var B=c;typeof B=="function"?Le(B,b):c=b,S.$$click=m,w(S,p(M,{get when(){return!s()},get fallback(){return Lr()},get children(){return Ar()}})),I.$$keydown=u,I.$$input=h;var V=a;return typeof V=="function"?Le(V,I):a=I,w(_,p(M,{get when(){return!e.isStreaming},get fallback(){return(()=>{var $=Ir();return rt($,"click",e.onStop),$})()},get children(){var $=Pr();return H(F=>{var W=!t().trim()||l(),q=`m-2 p-2 rounded-lg transition-colors ${t().trim()&&!l()?"bg-accent hover:bg-accent-hover text-white":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"}`,z=e.disabled?"No models available":"Send (⌘↩)";return W!==F.e&&($.disabled=F.e=W),q!==F.t&&J($,F.t=q),z!==F.a&&oe($,"title",F.a=z),F},{e:void 0,t:void 0,a:void 0}),$}}),null),w(N,p(M,{get when(){return!e.disabled},get fallback(){return Mr()},get children(){return p(M,{get when(){return!s()},get fallback(){return Rr()},get children(){return Er()}})}})),H($=>{var F=`border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 ${e.disabled?"opacity-60":""}`,W=`flex items-end gap-2 bg-gray-50 dark:bg-gray-900 rounded-xl border ${e.disabled?"border-gray-300 dark:border-gray-600":"border-gray-200 dark:border-gray-700 focus-within:border-accent focus-within:ring-1 focus-within:ring-accent"}`,q=`p-3 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${s()?"text-accent animate-pulse":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,z=s()?"Uploading...":"Attach file (PDF, DOCX, TXT)",A=l(),P=e.disabled?"No models available...":s()?"Uploading document...":"Message... (⌘↩ to send)",y=l();return F!==$.e&&J(d,$.e=F),W!==$.t&&J(_,$.t=W),q!==$.a&&J(S,$.a=q),z!==$.o&&oe(S,"title",$.o=z),A!==$.i&&(S.disabled=$.i=A),P!==$.n&&oe(I,"placeholder",$.n=P),y!==$.s&&(I.disabled=$.s=y),$},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),H(()=>I.value=t()),d})()}ae(["click","input","keydown"]);var jr=C("<span class=truncate>"),Dr=C('<span class="text-xs text-gray-400">(<!>)'),Nr=C('<div class="px-3 py-4 text-sm text-gray-500 text-center">No models available'),Fr=C('<div class="absolute top-full left-0 mt-1 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto"role=listbox>'),Ur=C('<div class="fixed inset-0 z-40">'),Br=C('<div class=relative><button class="flex items-center gap-2 px-3 py-1.5 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors min-w-[160px]"aria-haspopup=listbox><svg class="w-4 h-4 ml-auto text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7">'),Kr=C("<span class=text-gray-400>Loading..."),Hr=C('<div class=py-1><div class="px-3 py-1 text-xs font-medium text-gray-500 dark:text-gray-400">'),Vr=C('<span class="w-2 h-2 bg-white rounded-full">'),Wr=C('<span class="ml-auto text-xs text-amber-600 dark:text-amber-400">Set up'),qr=C('<button role=option><span></span><span></span><span class="text-xs text-green-600 dark:text-green-400">(free)');function zr(e){const[t,r]=T(!1),[s,n]=T([]),[o,i]=T(null),[a,c]=T(!0);$e(async()=>{try{const m=await(await fetch("/v1/models/grouped")).json();if(n(m.models||[]),m.models?.length>0&&!o()){const k=m.models[0],d=k.providers.find(g=>e.configuredProviders?.[l(g.source)])||k.providers[0];d&&(i({name:k.name,...d}),e.onSelect?.(d.id,d.source))}}catch(h){console.error("Failed to fetch models:",h)}finally{c(!1)}});function l(h){return h==="open_code_zen"?"openCodeZen":"openRouter"}function f(h){return h==="open_code_zen"?"Zen":"OpenRouter"}function u(h,m){if(!e.configuredProviders?.[l(m.source)]){e.onConfigureProvider?.(l(m.source));return}i({name:h.name,...m}),e.onSelect?.(m.id,m.source),r(!1)}return(()=>{var h=Br(),m=h.firstChild,k=m.firstChild;return m.$$click=()=>r(!t()),w(m,p(M,{get when(){return!a()},get fallback(){return Kr()},get children(){return[(()=>{var d=jr();return w(d,()=>o()?.name||"Select model"),d})(),p(M,{get when(){return o()},get children(){var d=Dr(),g=d.firstChild,x=g.nextSibling;return x.nextSibling,w(d,()=>f(o()?.source),x),d}})]}}),k),w(h,p(M,{get when(){return t()},get children(){var d=Fr();return w(d,p(se,{get each(){return s()},children:g=>(()=>{var x=Hr(),b=x.firstChild;return w(b,()=>g.name),w(x,p(se,{get each(){return g.providers},children:_=>{const S=()=>e.configuredProviders?.[l(_.source)],I=()=>o()?.id===_.id;return(()=>{var N=qr(),B=N.firstChild,V=B.nextSibling;return V.nextSibling,N.$$click=()=>u(g,_),w(B,p(M,{get when(){return I()},get children(){return Vr()}})),w(V,()=>f(_.source)),w(N,p(M,{get when(){return!S()},get children(){return Wr()}}),null),H($=>{var F=`w-full text-left px-3 py-2 pl-6 text-sm flex items-center gap-2 transition-colors ${I()?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":S()?"hover:bg-gray-50 dark:hover:bg-gray-750 text-gray-700 dark:text-gray-300":"text-gray-400 dark:text-gray-500"}`,W=I(),q=!S(),z=`w-4 h-4 rounded-full border-2 flex items-center justify-center ${I()?"border-blue-500 bg-blue-500":"border-gray-300 dark:border-gray-600"}`;return F!==$.e&&J(N,$.e=F),W!==$.t&&oe(N,"aria-selected",$.t=W),q!==$.a&&oe(N,"aria-disabled",$.a=q),z!==$.o&&J(B,$.o=z),$},{e:void 0,t:void 0,a:void 0,o:void 0}),N})()}}),null),x})()}),null),w(d,p(M,{get when(){return ke(()=>s().length===0)()&&!a()},get children(){return Nr()}}),null),d}}),null),w(h,p(M,{get when(){return t()},get children(){var d=Ur();return d.$$click=()=>r(!1),d}}),null),H(()=>oe(m,"aria-expanded",t())),h})()}ae(["click"]);var Jr=C('<div><span></span><button class="ml-1 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700"title=Refresh><svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">'),Xr=C('<div class="absolute right-0 mt-1 w-40 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 z-50"><button class="w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300">Markdown (.md)</button><button class="w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300">PDF (.pdf)</button><button class="w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300">Word (.docx)'),Yr=C('<div class=relative><button class="p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400"title="Export chat"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4">'),Zr=C(`<div class="bg-amber-50 dark:bg-amber-900/20 border-b border-amber-200 dark:border-amber-800 px-4 py-2"><p class="text-xs text-amber-800 dark:text-amber-200 text-center font-medium">"If you're not paying for it, you're the product."</p><p class="text-xs text-amber-700 dark:text-amber-300 text-center mt-1">Free models train on your data. Assume all conversations are leaked to the public.`),Gr=C('<div class="bg-amber-50 dark:bg-amber-900/20 border-b border-amber-200 dark:border-amber-800 px-4 py-3"><div class="flex items-start gap-3 max-w-3xl mx-auto"><svg class="w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><div class=flex-1><h3 class="text-sm font-medium text-amber-800 dark:text-amber-200">No Free AI Models Available</h3><p class="text-sm text-amber-700 dark:text-amber-300 mt-1">All free tier quotas may be exhausted, or the providers are experiencing issues. You can still view your chat history. Check back later.'),Qr=C('<div class="h-screen flex bg-gray-50 dark:bg-gray-900"><div class="flex-1 flex flex-col"><header class="h-12 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm"><h1 class="text-sm font-medium text-gray-600 dark:text-gray-300"></h1><div class="flex items-center gap-3">');function We(){const e=qt(),t=Wt(),[r,s]=T([]),[n,o]=T(null),[i,a]=T([]),[c,l]=T(!1),[f,u]=T(""),[h,m]=T(null),[k,d]=T(0),[g,x]=T(!1),[b,_]=T({id:"auto",source:null}),[S,I]=T({openCodeZen:!0,openRouter:!0});wt(async()=>{await Promise.all([B(),N()]),e.id&&await V(e.id)}),$e(async()=>{e.id&&e.id!==n()?.id&&await V(e.id)});async function N(){try{const E=(await(await fetch("/v1/models")).json()).data?.length||0;d(E),m(E>0)}catch(y){console.error("Failed to check models:",y),m(!1)}}async function B(){try{const v=await(await fetch("/api/chats")).json();s(v.chats||[])}catch(y){console.error("Failed to load chats:",y)}}async function V(y){try{const v=await fetch(`/api/chats/${y}`);if(v.ok){const E=await v.json();o({id:E.id,title:E.title}),a(E.messages||[])}else t("/"),o(null),a([])}catch(v){console.error("Failed to load chat:",v)}}async function $(){try{const v=await(await fetch("/api/chats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();await B(),t(`/chat/${v.id}`)}catch(y){console.error("Failed to create chat:",y)}}async function F(y){try{await fetch(`/api/chats/${y}`,{method:"DELETE"}),await B(),n()?.id===y&&(t("/"),o(null),a([]))}catch(v){console.error("Failed to delete chat:",v)}}async function W(y){if(!y.trim()||c())return;if(h()===!1){a(E=>[...E,{id:"error-"+Date.now(),role:"assistant",content:"No free AI models are currently available. Please check back later or configure your API keys.",created_at:new Date().toISOString(),isError:!0}]);return}let v=n()?.id;if(!v)try{v=(await(await fetch("/api/chats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:y.slice(0,50)})})).json()).id,await B(),t(`/chat/${v}`),o({id:v,title:y.slice(0,50)})}catch(E){console.error("Failed to create chat:",E);return}try{const j=await(await fetch(`/api/chats/${v}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:y})})).json();a(D=>[...D,j])}catch(E){console.error("Failed to send message:",E);return}l(!0),u("");try{const E=i().map(O=>({role:O.role,content:O.content}));E.push({role:"user",content:y});const D=await(await fetch("/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:b().id||"auto",messages:E,stream:!1})})).json();if(D.choices&&D.choices[0]){const O=D.choices[0].message?.content||D.choices[0].delta?.content||"No response";await fetch(`/api/chats/${v}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:O})}),await V(v)}else if(D.error){let O=D.error.message,Y=!1;D.error.type==="service_unavailable"||O.toLowerCase().includes("no free models")||O.toLowerCase().includes("no models available")?(O="No free AI models are currently available. The providers may be experiencing issues or all free tiers are exhausted. Please try again later.",Y=!0,m(!1)):D.error.type==="configuration_error"?O="API key not configured. Please set your OPENROUTER_API_KEY or OPENCODE_ZEN_API_KEY environment variable.":D.error.type==="upstream_error"&&(O=`The AI provider returned an error: ${D.error.message}. Please try again.`),a(Z=>[...Z,{id:"error-"+Date.now(),role:"assistant",content:O,created_at:new Date().toISOString(),isError:!0}])}}catch(E){console.error("Failed to get AI response:",E),a(j=>[...j,{id:"error-"+Date.now(),role:"assistant",content:`Connection error: ${E.message}. Please check your internet connection and try again.`,created_at:new Date().toISOString(),isError:!0}])}finally{l(!1),u(""),await B()}}function q(){l(!1)}function z(y,v){_({id:y,source:v})}async function A(y){let v=n()?.id;if(!v)try{v=(await(await fetch("/api/chats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:`Document: ${y.name}`})})).json()).id,await B(),t(`/chat/${v}`),o({id:v,title:`Document: ${y.name}`})}catch{throw new Error("Failed to create chat for upload")}const E=new FormData;E.append("file",y);const j=await fetch(`/api/chats/${v}/upload`,{method:"POST",body:E});if(!j.ok){const D=await j.json();throw new Error(D.error||"Upload failed")}await V(v),await B()}function P(y){const v=n()?.id;if(!v)return;const E=`/api/chats/${v}/export?format=${y}`,j=document.createElement("a");j.href=E,j.download=`${n()?.title||"chat"}.${y}`,document.body.appendChild(j),j.click(),document.body.removeChild(j),x(!1)}return(()=>{var y=Qr(),v=y.firstChild,E=v.firstChild,j=E.firstChild,D=j.nextSibling;return w(y,p(pr,{get chats(){return r()},get currentChatId(){return n()?.id},onNewChat:$,onSelectChat:O=>t(`/chat/${O}`),onDeleteChat:F}),v),w(j,()=>n()?.title||"MultiAI"),w(D,p(M,{get when(){return h()===!0},get children(){return p(zr,{onSelect:z,get configuredProviders(){return S()},onConfigureProvider:O=>console.log("Configure:",O)})}}),null),w(D,p(M,{get when(){return h()!==null},get children(){var O=Jr(),Y=O.firstChild,Z=Y.nextSibling;return w(O,(()=>{var G=ke(()=>!!h());return()=>G()?`${k()} model${k()!==1?"s":""} available`:"No models available"})(),Z),Z.$$click=N,H(G=>{var ie=`flex items-center gap-1.5 text-xs ${h()?"text-green-600 dark:text-green-400":"text-amber-600 dark:text-amber-400"}`,fe=`w-2 h-2 rounded-full ${h()?"bg-green-500":"bg-amber-500 animate-pulse"}`;return ie!==G.e&&J(O,G.e=ie),fe!==G.t&&J(Y,G.t=fe),G},{e:void 0,t:void 0}),O}}),null),w(D,p(M,{get when(){return n()},get children(){var O=Yr(),Y=O.firstChild;return Y.$$click=()=>x(!g()),w(O,p(M,{get when(){return g()},get children(){var Z=Xr(),G=Z.firstChild,ie=G.nextSibling,fe=ie.nextSibling;return Z.$$click=ht=>ht.stopPropagation(),G.$$click=()=>P("md"),ie.$$click=()=>P("pdf"),fe.$$click=()=>P("docx"),Z}}),null),O}}),null),w(v,p(M,{get when(){return h()===!0},get children(){return Zr()}}),null),w(v,p(M,{get when(){return h()===!1},get children(){return Gr()}}),null),w(v,p($r,{get messages(){return i()},get isStreaming(){return c()},get streamingContent(){return f()}}),null),w(v,p(Tr,{onSend:W,onUpload:A,get isStreaming(){return c()},onStop:q,get disabled(){return h()===!1}}),null),y})()}ae(["click"]);const en=document.getElementById("root");Mt(()=>p(lr,{get children(){return[p(Ve,{path:"/",component:We}),p(Ve,{path:"/chat/:id",component:We})]}}),en);
